(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c23c872"],{"02a4":function(t,s,a){},1516:function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"empty-content"},[s("div",{staticClass:"image"},[s("img",{attrs:{src:t.src}})]),s("div",{staticClass:"text",domProps:{textContent:t._s(t.text)}})])},n=[],i={name:"Empty",props:{text:{type:String,default:"数据为空..."},src:{type:String,default:a("783d")}},data(){return{}},created(){},methods:{}},c=i,r=(a("7105"),a("2877")),l=Object(r["a"])(c,e,n,!1,null,"22c60752",null);s["a"]=l.exports},"653b":function(t,s,a){},7105:function(t,s,a){"use strict";a("653b")},"783d":function(t,s,a){t.exports=a.p+"static/img/no-oncall.6b776fcf.6b776fcf.png"},"97b0":function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"loading-content"},[t._m(0),s("p",[t._v(t._s(t.text))])])},n=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"ant-spin ant-spin-lg ant-spin-spinning"},[s("span",{staticClass:"ant-spin-dot ant-spin-dot-spin"},[s("i",{staticClass:"ant-spin-dot-item"}),s("i",{staticClass:"ant-spin-dot-item"}),s("i",{staticClass:"ant-spin-dot-item"}),s("i",{staticClass:"ant-spin-dot-item"})])])}],i={name:"Loading",props:{text:{type:String,default:"数据加载中 ..."}}},c=i,r=(a("cec8"),a("2877")),l=Object(r["a"])(c,e,n,!1,null,"9393fa68",null);s["a"]=l.exports},cac2:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"panel"},[s("el-container",{staticClass:"full-height"},[s("el-header",{staticClass:"header no-select border",attrs:{height:"60px"}},[s("p",[t._v("好友申请("+t._s(t.items.length)+")")])]),s("el-main",{staticClass:"panel-body no-padding lum-scrollbar"},[0==t.status?[s("Loading")]:1==t.status&&0==t.items.length?[s("Empty",{attrs:{text:"暂无联系人申请"}})]:t._e(),1==t.status?t._l(t.items,(function(a,e){return s("div",{key:a.id,staticClass:"data-item",on:{click:function(s){return t.$user(a.user_id)}}},[s("el-avatar",{staticClass:"avatar",attrs:{shape:"square",src:a.avatar,size:35}},[t._v(" "+t._s(a.nickname.substr(0,1))+" ")]),s("div",{staticClass:"card"},[s("div",{staticClass:"title"},[s("span",{staticClass:"name"},[t._v(t._s(a.nickname))]),s("div",{staticClass:"larkc-tag wait"},[t._v("待处理")])]),s("div",{staticClass:"content"},[t._v(" [申请时间] "+t._s(a.created_at)+" / [备注说明] "+t._s(a.remark)+" ")])]),s("div",{staticClass:"apply-from",on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[s("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-check"},on:{click:function(s){return t.handleFrom(a,1,e)}}},[t._v("同意 ")]),s("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-close"},on:{click:function(s){return t.handleFrom(a,2,e)}}},[t._v("拒绝 ")])],1)],1)})):t._e()],2)],1)],1)},n=[],i=a("1516"),c=a("97b0"),r=a("dc4c"),l={components:{Empty:i["a"],Loading:c["a"]},data(){return{items:[],status:0}},beforeRouteUpdate(t,s,a){this.loadFriendApply(),a()},created(){this.loadFriendApply()},methods:{loadFriendApply(){Object(r["g"])({page:1,page_size:1e4}).then(t=>{200==t.code&&(this.status=1,this.items=t.data.rows)})},handleFrom(t,s,a){let e="同意申请",n=`请设置好友备注【${t.nickname}】`,i=t.remark,c=r["a"];2==s&&(e="拒绝申请",n="请填写拒绝的原因！",i="无理由拒绝！",c=r["b"]),this.$prompt(n,e,{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:i,inputValidator(t){return null!=t&&""!=t||"备注信息不能为空"}}).then(s=>{c({apply_id:t.id,remark:s.value}).then(t=>{200==t.code?(this.$delete(this.items,a),this.$message({message:"处理成功...",type:"success"})):this.$message({type:"info",message:"提交失败"})})}).catch(t=>{})}}},o=l,d=(a("ed69"),a("2877")),u=Object(d["a"])(o,e,n,!1,null,"38ddc7ce",null);s["default"]=u.exports},cec8:function(t,s,a){"use strict";a("fcaf")},ed69:function(t,s,a){"use strict";a("02a4")},fcaf:function(t,s,a){}}]);