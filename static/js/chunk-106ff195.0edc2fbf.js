(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-106ff195"],{"04dc":function(e,t,i){"use strict";i("9ec4")},"063a":function(e,t,i){"use strict";i("8883")},"14f6":function(e,t,i){"use strict";i("7c75")},"18d8":function(e,t,i){"use strict";i("43ac")},"1d11":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("MainLayout",{attrs:{idx:0}},[t("el-container",{staticClass:"full-height",attrs:{slot:"container"},slot:"container"},[t("el-aside",{staticClass:"aside-box",attrs:{width:"320px"}},[t("el-container",{staticClass:"full-height",attrs:{direction:"vertical"}},[t("el-header",{staticClass:"header",attrs:{height:"60px"}},[t("div",{staticClass:"from-search"},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"搜索聊天 / 好友 / 群组",size:"small"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),t("div",{directives:[{name:"outside",rawName:"v-outside",value:e.closeSubMenu,expression:"closeSubMenu"}],staticClass:"tools"},[t("el-button",{attrs:{circle:"",plain:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.subMenu=!e.subMenu}}}),t("transition",{attrs:{name:"el-zoom-in-top"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.subMenu,expression:"subMenu"}],staticClass:"tools-menu"},[t("div",{staticClass:"menu-item",on:{click:function(t){return e.triggerSubMenu(1)}}},[e._v(" 创建群组 ")]),t("div",{staticClass:"menu-item",on:{click:function(t){return e.triggerSubMenu(2)}}},[e._v(" 添加好友 ")])])])],1)]),t("header",{directives:[{name:"show",rawName:"v-show",value:3==e.loadStatus&&e.topItems.length>0,expression:"loadStatus == 3 && topItems.length > 0"}],staticClass:"subheader"},e._l(e.topItems,(function(i){return t("div",{key:i.index_name,staticClass:"top-item",on:{click:function(t){return e.clickTab(i.index_name)},contextmenu:function(t){return t.preventDefault(),e.topItemsMenu(i,t)}}},[t("el-tooltip",{attrs:{effect:"dark",placement:"top-start",content:i.remark_name?i.remark_name:i.name}},[t("div",{staticClass:"avatar"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!i.avatar,expression:"!item.avatar"}]},[e._v(" "+e._s((i.remark_name?i.remark_name:i.name).substr(0,1))+" ")]),t("img",{directives:[{name:"show",rawName:"v-show",value:i.avatar,expression:"item.avatar"}],attrs:{src:i.avatar,onerror:e.$store.state.detaultAvatar}})])]),t("div",{staticClass:"name",class:{active:e.index_name==i.index_name}},[e._v(" "+e._s(i.remark_name?i.remark_name:i.name)+" ")])],1)})),0),t("el-scrollbar",{ref:"menusScrollbar",staticClass:"full-height",attrs:{tag:"section",native:!1}},[t("el-main",{staticClass:"main"},[t("p",{directives:[{name:"show",rawName:"v-show",value:2==e.loadStatus,expression:"loadStatus == 2"}],staticClass:"empty-data"},[t("i",{staticClass:"el-icon-loading"}),e._v(" 数据加载中... ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:3==e.loadStatus&&0==e.talkNum,expression:"loadStatus == 3 && talkNum == 0"}],staticClass:"empty-data"},[e._v(" 暂无聊天消息 ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:3==e.loadStatus&&e.talkNum>0,expression:"loadStatus == 3 && talkNum > 0"}],staticClass:"main-menu"},[t("span",{staticClass:"title"},[e._v("消息记录 ("+e._s(e.talkNum)+")")])]),3==e.loadStatus?e._l(e.talkItems,(function(i){return t("div",{key:i.index_name,staticClass:"talk-item pointer",class:{active:e.index_name==i.index_name},on:{click:function(t){return e.clickTab(i.index_name)},contextmenu:function(t){return t.preventDefault(),e.talkItemsMenu(i,t)}}},[t("div",{staticClass:"avatar-box"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!i.avatar,expression:"!item.avatar"}]},[e._v(" "+e._s((i.remark_name?i.remark_name:i.name).substr(0,1))+" ")]),t("img",{directives:[{name:"show",rawName:"v-show",value:i.avatar,expression:"item.avatar"}],attrs:{src:i.avatar,onerror:e.$store.state.detaultAvatar}}),t("div",{directives:[{name:"show",rawName:"v-show",value:0==i.is_top,expression:"item.is_top == 0"}],staticClass:"top-mask",on:{click:function(t){return t.stopPropagation(),e.topChatItem(i)}}},[t("i",{staticClass:"el-icon-top"})])]),t("div",{staticClass:"card-box"},[t("div",{staticClass:"title"},[t("div",{staticClass:"card-name"},[t("p",{staticClass:"nickname"},[e._v(" "+e._s(i.remark_name?i.remark_name:i.name)+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.unread_num,expression:"item.unread_num"}],staticClass:"larkc-tag"},[e._v(" "+e._s(i.unread_num)+"条未读 ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.is_top,expression:"item.is_top"}],staticClass:"larkc-tag top"},[e._v(" TOP ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.is_robot,expression:"item.is_robot"}],staticClass:"larkc-tag top"},[e._v(" BOT ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:2==i.talk_type,expression:"item.talk_type == 2"}],staticClass:"larkc-tag group"},[e._v(" 群组 ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.is_disturb,expression:"item.is_disturb"}],staticClass:"larkc-tag disturb"},[t("i",{staticClass:"iconfont icon-xiaoximiandarao"})])]),t("div",{staticClass:"card-time"},[t("u-time",{attrs:{value:i.updated_at}})],1)]),t("div",{staticClass:"content"},[e.index_name!=i.index_name&&i.draft_text?[t("span",{staticClass:"draft-color"},[e._v("[草稿]")]),t("span",[e._v(e._s(i.draft_text))])]:[0==i.is_robot?[1==i.talk_type?t("span",{class:{"online-color":1==i.is_online}},[e._v(" ["+e._s(1==i.is_online?"在线":"离线")+"] ")]):t("span",[e._v("[群消息]")])]:e._e(),t("span",[e._v(e._s(i.msg_text))])]],2)])])})):e._e()],2)],1)],1)],1),t("el-main",{staticClass:"ov-hidden full-height no-padding"},[null==e.index_name?t("WelcomeModule"):t("TalkPanel",{staticClass:"full-height",attrs:{params:e.params,"is-online":e.isFriendOnline},on:{"change-talk":e.changeTalk,"close-talk":e.closeTalk}})],1)],1)],1),e.launchGroupShow?t("GroupLaunch",{on:{close:function(t){e.launchGroupShow=!1},"create-success":e.groupChatSuccess}}):e._e(),t("UserSearch",{ref:"searchUsers"})],1)},s=[],o=i("2f62"),r=i("6300"),a=function(){var e=this;e._self._c;return e._m(0)},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-box"},[t("div",{staticClass:"famous-box"},[t("img",{attrs:{src:i("f5e0"),width:"300"}}),t("p",[e._v(" 不是井里没有水，而是你挖的不够深"),t("br"),e._v(" 不是成功来得慢，而是你努力的不够多"),t("br"),e._v(" 加油吧！ ...... ")])])])}],c={components:{},data(){return{}},created(){},methods:{}},u=c,d=(i("14f6"),i("2877")),p=Object(d["a"])(u,a,l,!1,null,"072f284b",null),h=p.exports,f=i("7ee3"),m=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"ov-hidden full-height"},[t("el-container",[t("PanelHeader",{ref:"panelHeader",attrs:{data:e.params,online:e.isOnline,keyboard:e.inputEvent},on:{event:e.handleHeaderEvent}}),t("el-main",{staticClass:"main-box no-padding"},[t("div",{staticClass:"talks-container lum-scrollbar",attrs:{id:"lumenChatPanel"},on:{scroll:function(t){return e.talkPanelScroll(t)}}},[t("div",{staticClass:"loading-toolbar"},[0==e.loadRecord.status?t("span",{staticClass:"color-blue"},[t("i",{staticClass:"el-icon-loading"}),e._v(" 正在加载数据中... ")]):1==e.loadRecord.status?t("span",{staticClass:"pointer color-blue",on:{click:e.loadChatRecords}},[t("i",{staticClass:"el-icon-bottom"}),e._v(" 查看更多消息... ")]):t("span",[e._v(" 没有更多消息了... ")])]),e._l(e.records,(function(i,n){return t("div",{key:i.id},[9==i.msg_type?t("div",{staticClass:"message-box"},[t("invite-message",{attrs:{invite:i.invite},on:{cat:e.catFriendDetail}})],1):1==i.is_revoke?t("div",{staticClass:"message-box"},[t("revoke-message",{attrs:{item:i}})],1):0==i.msg_type?t("div",{staticClass:"message-box"},[t("system-text-message",{attrs:{content:i.content}})],1):t("div",{staticClass:"message-box record-box",class:{"direction-rt":"right"==i.float,"checkbox-border":!0===e.multiSelect.isOpen}},[t("aside",{directives:[{name:"show",rawName:"v-show",value:e.multiSelect.isOpen,expression:"multiSelect.isOpen"}],staticClass:"checkbox-column"},[t("i",{staticClass:"el-icon-success",class:{selected:e.verifyMultiSelect(i.id)},on:{click:function(t){return e.triggerMultiSelect(i.id)}}})]),t("aside",{staticClass:"avatar-column"},[t("el-avatar",{staticClass:"pointer",attrs:{size:30,src:i.avatar},nativeOn:{click:function(t){return e.catFriendDetail(i.user_id)}}})],1),t("main",{staticClass:"main-column"},[t("div",{staticClass:"talk-title"},[t("span",{directives:[{name:"show",rawName:"v-show",value:1==e.params.talk_type||2==e.params.talk_type&&"right"==i.float,expression:"\n                      params.talk_type == 1 ||\n                        (params.talk_type == 2 && item.float == 'right')\n                    "}],staticClass:"time"},[t("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e.parseTime(i.created_at,"{m}月{d}日 {h}:{i}"))+" ")])]),t("div",{staticClass:"talk-content"},[t("span",{directives:[{name:"show",rawName:"v-show",value:2==e.params.talk_type&&"left"==i.float,expression:"params.talk_type == 2 && item.float == 'left'"}],staticClass:"nickname"},[e._v(" "+e._s(i.friend_remarks||i.nickname)+" | "+e._s(e.parseTime(i.created_at,"{m}月{d}日 {h}:{i}"))+" ")]),1==i.msg_type?t("text-message",{attrs:{content:i.content,float:i.float,"full-width":!1,arrow:!0},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):2==i.msg_type&&1==i.file.type?t("image-message",{attrs:{src:i.file.url},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):2==i.msg_type&&2==i.file.type?t("audio-message",{attrs:{src:i.file.url},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):2==i.msg_type&&3==i.file.type?t("video-message",{attrs:{src:i.file.url},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):2==i.msg_type&&4==i.file.type?t("file-message",{attrs:{file:i.file,record_id:i.id},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):3==i.msg_type?t("forward-message",{attrs:{forward:i.forward,record_id:i.id},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):4==i.msg_type?t("code-message",{attrs:{code:i.code_block.code,lang:i.code_block.lang,maxwidth:!0},nativeOn:{contextmenu:function(t){return e.onCopy(n,i,t)}}}):5==i.msg_type?t("vote-message",{attrs:{record_id:i.id,vote:i.vote}}):8==i.msg_type?t("login-message",{attrs:{detail:i.login}}):10==i.msg_type?t("location-message",{attrs:{lat:i.location.latitude,lng:i.location.longitude}}):t("div",{staticClass:"unknown-msg"},[e._v(" 未知消息类型["+e._s(i.msg_type)+"] ")])],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.compareTime(n,i.created_at),expression:"compareTime(idx, item.created_at)"}],staticClass:"datetime no-select",domProps:{textContent:e._s(e.sendTime(i.created_at))}})])}))],2),t("transition",{attrs:{name:"el-fade-in-linear"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tipsBoard,expression:"tipsBoard"}],staticClass:"tips-board pointer",on:{click:e.talkPanelScrollBottom}},[t("SvgMentionDown",{staticClass:"svg"}),t("span",[e._v("回到底部")])],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tipsBoard&&e.unreadMessage.num,expression:"tipsBoard && unreadMessage.num"}],staticClass:"talk-bubble pointer no-select",on:{click:e.talkPanelScrollBottom}},[t("i",{staticClass:"el-icon-chat-dot-round"}),t("span",[e._v("新消息("+e._s(e.unreadMessage.num)+"条)")]),t("span",[e._v("  #"+e._s(e.unreadMessage.nickname)+"# "+e._s(e.unreadMessage.content)+" ")])])],1),t("el-footer",{staticClass:"footer-box",attrs:{height:"160"}},[!1===e.multiSelect.isOpen?[t("MeEditor",{on:{send:e.submitSendMesage,"keyboard-event":e.onKeyboardEvent}})]:[t("PanelToolbar",{on:{event:e.handleMultiMode},model:{value:e.multiSelect.items.length,callback:function(t){e.$set(e.multiSelect.items,"length",t)},expression:"multiSelect.items.length"}})]],2)],1),e.group.panel&&2==e.params.talk_type?t("el-aside",{staticClass:"panel-aside",attrs:{width:"350px"}},[2==e.params.talk_type?t("GroupPanel",{attrs:{"group-id":e.params.receiver_id},on:{close:e.hideChatGroup,"send-group":e.hideChatGroup,"quit-group":e.quitGroupSuccess,"disturb-change":e.disturbChange,"group-info":e.syncGroupInfo}}):e._e()],1):e._e()],1),t("transition",{attrs:{name:"el-fade-in-linear"}},[e.findChatRecord?t("TalkSearchRecord",{attrs:{params:{talk_type:e.params.talk_type,receiver_id:e.params.receiver_id,title:e.params.nickname}},on:{close:function(t){e.findChatRecord=!1}}}):e._e()],1),t("transition",{attrs:{name:"el-fade-in-linear"}},[e.group.notice?t("GroupNotice",{attrs:{"group-id":e.params.receiver_id},on:{close:function(t){e.group.notice=!1}}}):e._e()],1)],1)},v=[],g=(i("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask"},[t("el-container",{staticClass:"lum-dialog-box",class:{"full-screen":e.fullscreen}},[t("el-header",{staticClass:"header",attrs:{height:"60px"}},[t("p",[e._v("消息管理器")]),t("p",{staticClass:"title"},[t("span",[e._v(e._s(1==e.query.talk_type?"好友":"群")+"【"+e._s(e.title)+"】")])]),t("p",{staticClass:"tools"},[t("i",{staticClass:"iconfont",class:e.fullscreen?"icon-tuichuquanping":"icon-quanping",staticStyle:{transform:"scale(0.85)"},on:{click:function(t){e.fullscreen=!e.fullscreen}}}),t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.$emit("close")}}})])]),t("el-header",{staticClass:"sub-header",attrs:{height:"38px"}},[t("i",{staticClass:"iconfont pointer",class:{"icon-shouqi2":e.broadside,"icon-zhankai":!e.broadside},on:{click:e.triggerBroadside}}),t("div",{staticClass:"search-box no-select"},[t("i",{staticClass:"el-icon-search"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search.keyword,expression:"search.keyword"}],attrs:{type:"text",maxlength:"30",placeholder:"搜索"},domProps:{value:e.search.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchText(t)},input:function(t){t.target.composing||e.$set(e.search,"keyword",t.target.value)}}})])]),t("el-container",{staticClass:"full-height ov-hidden"},[t("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.broadside,expression:"broadside"}],staticClass:"broadside",attrs:{width:"200px"}},[t("el-container",{staticClass:"full-height"},[t("el-header",{staticClass:"aside-header",attrs:{height:"40px"}},[t("div",{staticClass:"item",class:{selected:"friends"==e.contacts.show},on:{click:function(t){e.contacts.show="friends"}}},[e._v(" 我的好友("+e._s(e.contacts.friends.length)+") ")]),t("div",{staticClass:"item-shuxian"},[e._v("|")]),t("div",{staticClass:"item",class:{selected:"groups"==e.contacts.show},on:{click:function(t){e.contacts.show="groups"}}},[e._v(" 我的群组("+e._s(e.contacts.groups.length)+") ")])]),t("el-main",{staticClass:"no-padding"},[t("el-scrollbar",{staticClass:"full-height",attrs:{tag:"section",native:!1}},e._l(e.contacts[e.contacts.show],(function(n){return t("div",{key:n.id,staticClass:"contacts-item pointer",class:{selected:e.query.talk_type==n.type&&e.query.receiver_id==n.id},on:{click:function(t){return e.triggerMenuItem(n)}}},[t("div",{staticClass:"avatar"},[t("el-avatar",{attrs:{size:20,src:n.avatar,shape:"square"}},[t("img",{attrs:{src:i("e366")}})])],1),t("div",{staticClass:"content",domProps:{textContent:e._s(n.name)}})])})),0)],1)],1)],1),t("el-main",{directives:[{name:"show",rawName:"v-show",value:0==e.showBox,expression:"showBox == 0"}],staticClass:"no-padding"},[t("el-container",{staticClass:"full-height"},[t("el-header",{staticClass:"type-items",attrs:{height:"40px"}},e._l(e.tabType,(function(i){return t("span",{class:{active:e.query.msg_type==i.type},on:{click:function(t){return e.triggerLoadType(i.type)}}},[e._v(e._s(i.name)+" ")])})),0),e.records.isEmpty?t("el-main",{staticClass:"history-record animated fadeIn"},[t("div",{staticClass:"empty-records"},[t("img",{attrs:{src:i("dfdb")}}),t("p",[e._v("暂无聊天记录")])])]):t("el-main",{staticClass:"history-record"},[t("el-scrollbar",{staticClass:"full-height",attrs:{tag:"section",native:!1}},[e._l(e.records.items,(function(i){return t("div",{key:i.id,staticClass:"message-group"},[t("div",{staticClass:"left-box"},[t("el-avatar",{attrs:{shape:"square",fit:"contain",size:30,src:i.avatar}})],1),t("div",{staticClass:"right-box"},[t("div",{staticClass:"msg-header"},[t("span",{staticClass:"name"},[e._v(" "+e._s(i.nickname_remarks?i.nickname_remarks:i.nickname)+" ")]),t("el-divider",{attrs:{direction:"vertical"}}),t("span",{staticClass:"time"},[e._v(e._s(i.created_at))])],1),1==i.msg_type?t("text-message",{attrs:{content:i.content}}):2==i.msg_type&&1==i.file.type?t("image-message",{attrs:{src:i.file.url}}):2==i.msg_type&&2==i.file.type?t("audio-message",{attrs:{src:i.file.url}}):2==i.msg_type&&3==i.file.type?t("video-message",{attrs:{src:i.file.url}}):2==i.msg_type&&4==i.file.type?t("file-message",{attrs:{file:i.file,record_id:i.id}}):3==i.msg_type?t("forward-message",{attrs:{forward:i.forward,record_id:i.id}}):4==i.msg_type?t("code-message",{attrs:{code:i.code_block.code,lang:i.code_block.lang}}):5==i.msg_type?t("vote-message",{attrs:{record_id:i.id,vote:i.vote}}):t("div",{staticClass:"other-message"},[e._v("未知消息类型")])],1)])})),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.records.loadStatus,expression:"records.loadStatus == 1"}],staticClass:"load-button blue"},[t("i",{staticClass:"el-icon-loading"}),t("span",[e._v("加载数据中...")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.records.loadStatus,expression:"records.loadStatus == 0"}],staticClass:"load-button"},[t("i",{staticClass:"el-icon-arrow-down"}),t("span",{on:{click:e.loadChatRecord}},[e._v("加载更多...")])])],2)],1)],1)],1)],1)],1)],1)}),y=[],b=i("dc4c"),_=i("23ba"),x=i("d800"),C=i("7f6d"),w={name:"TalkSearchRecord",props:{params:{type:Object,default:()=>({talk_type:0,receiver_id:0,title:""})}},data(){return{fullscreen:!1,user_id:this.$store.state.user.uid,title:"",broadside:!1,contacts:{show:"friends",friends:[],groups:[]},query:{talk_type:0,receiver_id:0,msg_type:0},records:{record_id:0,items:[],isEmpty:!1,loadStatus:0},showBox:0,tabType:[{name:"全部",type:0},{name:"图片/视频/文件",type:2},{name:"会话记录",type:3},{name:"代码块",type:4},{name:"群投票",type:5}],search:{keyword:"",date:"",page:1,totalPage:50,items:[],isShowDate:!1}}},mounted(){this.title=this.params.title,this.query={talk_type:this.params.talk_type,receiver_id:this.params.receiver_id,msg_type:0},this.loadChatRecord(0)},created(){this.loadFriends(),this.loadGroups()},methods:{download:C["c"],renderSize:C["d"],getImgStyle(e){return Object(C["i"])(e,200)},getForwardTitle(e){let t=[...new Set(e.map(e=>e.nickname))];return t.join("、")+"的会话记录"},loadFriends(){Object(b["h"])().then(({code:e,data:t})=>{200==e&&(this.contacts.friends=t.map(e=>({id:e.id,type:1,avatar:e.avatar,name:e.friend_remark?e.friend_remark:e.nickname})))})},loadGroups(){Object(_["f"])().then(({code:e,data:t})=>{200==e&&(this.contacts.groups=t.rows.map(e=>({id:e.id,type:2,name:e.group_name,avatar:e.avatar})))})},triggerMenuItem(e){this.title=e.name,this.query.talk_type=e.type,this.query.receiver_id=e.id,this.showBox=0,this.triggerLoadType(0)},loadChatRecord(){let e={talk_type:this.query.talk_type,receiver_id:this.query.receiver_id,record_id:this.records.record_id,msg_type:this.query.msg_type,limit:30};1!=this.records.loadStatus&&(this.records.loadStatus=1,Object(x["f"])(e).then(t=>{if(200!=t.code)return;let i=0==e.record_id?[]:this.records.items;i.push(...t.data.rows),this.records.items=i,this.records.loadStatus=t.data.rows.length<t.data.limit?2:0,0==this.records.items.length?this.records.isEmpty=!0:this.records.record_id=this.records.items[this.records.items.length-1].id}).catch(()=>{this.records.loadStatus=0}))},triggerLoadType(e){this.records.record_id=0,this.query.msg_type=e,this.records.isEmpty=!1,this.records.items=[],this.loadChatRecord()},searchText(){if(""==this.search.keyword)return this.showBox=0,!1;this.$notify.info({title:"消息",message:"查询功能正在开发中..."})},triggerBroadside(){this.broadside=!this.broadside}}},k=w,S=(i("394a"),Object(d["a"])(k,g,y,!1,null,"2297d2ae",null)),O=S.exports,E=i("3618"),T=i("1b0a"),$=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"editor-container"},[t("el-header",{staticClass:"no-padding toolbar",attrs:{height:"35px"}},[t("ul",[t("li",{directives:[{name:"popover",rawName:"v-popover:popoverEmoticon",arg:"popoverEmoticon"}]},[t("i",{staticClass:"iconfont icon-icon_im_face",staticStyle:{"font-size":"15px"}}),t("p",{staticClass:"tip-title"},[e._v("表情符号")])]),t("li",{on:{click:function(t){e.codeBlock.isShow=!0}}},[t("i",{staticClass:"iconfont icon-daima"}),t("p",{staticClass:"tip-title"},[e._v("代码片段")])]),t("li",{on:{click:e.sendGeoLocation}},[t("i",{staticClass:"el-icon-location-information"}),t("p",{staticClass:"tip-title"},[e._v("地理位置")])]),t("li",{on:{click:function(t){e.recorder=!0}}},[t("i",{staticClass:"el-icon-microphone"}),t("p",{staticClass:"tip-title"},[e._v("语音消息")])]),t("li",{on:{click:function(t){return e.$refs.restFile.click()}}},[t("i",{staticClass:"el-icon-picture-outline-round"}),t("p",{staticClass:"tip-title"},[e._v("图片")])]),t("li",{on:{click:function(t){return e.$refs.restFile2.click()}}},[t("i",{staticClass:"el-icon-folder"}),t("p",{staticClass:"tip-title"},[e._v("附件")])]),t("li",{on:{click:function(t){e.filesManager.isShow=!0}}},[t("i",{staticClass:"el-icon-folder-opened"}),t("p",{staticClass:"tip-title"},[e._v("上传管理")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:e.isGroupTalk,expression:"isGroupTalk"}],on:{click:function(t){e.vote.isShow=!0}}},[t("i",{staticClass:"el-icon-s-data"}),t("p",{staticClass:"tip-title"},[e._v("发起投票")])]),t("p",{staticClass:"text-tips no-select"},[t("span",[e._v("按Enter发送 / Shift+Enter 换行")]),t("el-popover",{attrs:{placement:"top-end",width:"600",trigger:"click"}},[t("div",{staticClass:"editor-books"},[t("div",{staticClass:"books-title"},[e._v("编辑说明:")]),t("p",[e._v(" 1. 支持上传QQ及微信截图，在QQ或微信中截图后使用Ctrl+v上传图片。 ")]),t("p",[e._v(" 2. 支持浏览器及Word文档中的图片复制上传、复制后使用Ctrl+v上传图片。 ")]),t("p",[e._v("3. 支持图片拖拽上传。")]),t("p",[e._v("4. 支持文件上传 ( 文件小于100M ) 。")]),t("p",[e._v("5. 按Enter发送 / Shift+Enter 换行。")]),t("p",[e._v(" 6. 注意：当文件正在上传时，请勿关闭网页或离开当前对话框，否则将导致文件停止上传或上传失败。 ")])]),t("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1)]),t("el-popover",{ref:"popoverEmoticon",attrs:{placement:"top-start",width:"500",trigger:"click","popper-class":"no-padding"}},[t("MeEditorEmoticon",{ref:"editorEmoticon",on:{selected:e.selecteEmoticon}})],1),t("form",{ref:"fileFrom",staticStyle:{display:"none"},attrs:{enctype:"multipart/form-data"}},[t("input",{ref:"restFile",attrs:{type:"file",accept:"image/*"},on:{change:e.uploadImageChange}}),t("input",{ref:"restFile2",attrs:{type:"file"},on:{change:e.uploadFileChange}})])],1),t("el-main",{staticClass:"no-padding textarea"},[t("textarea",{directives:[{name:"paste",rawName:"v-paste",value:e.pasteImage,expression:"pasteImage"},{name:"drag",rawName:"v-drag",value:e.dragPasteImage,expression:"dragPasteImage"},{name:"model",rawName:"v-model.trim",value:e.editorText,expression:"editorText",modifiers:{trim:!0}}],ref:"textarea",attrs:{rows:"6",placeholder:"你想要的聊点什么呢 ..."},domProps:{value:e.editorText},on:{keydown:function(t){return e.keydownEvent(t)},input:[function(t){t.target.composing||(e.editorText=t.target.value.trim())},function(t){return e.inputEvent(t)}],blur:function(t){return e.$forceUpdate()}}})])],1),t("MeEditorImageView",{ref:"imageViewer",attrs:{file:e.imageViewer.file},on:{confirm:e.confirmUploadImage},model:{value:e.imageViewer.isShow,callback:function(t){e.$set(e.imageViewer,"isShow",t)},expression:"imageViewer.isShow"}}),e.recorder?t("MeEditorRecorder",{on:{close:function(t){e.recorder=!1},send:e.sendRecorder}}):e._e(),e.codeBlock.isShow?t("TalkCodeBlock",{attrs:{"edit-mode":e.codeBlock.editMode},on:{close:function(t){e.codeBlock.isShow=!1},confirm:e.confirmCodeBlock}}):e._e(),t("MeEditorFileManage",{ref:"filesManager",model:{value:e.filesManager.isShow,callback:function(t){e.$set(e.filesManager,"isShow",t)},expression:"filesManager.isShow"}}),e.vote.isShow?t("MeEditorVote",{on:{close:()=>{this.vote.isShow=!1}}}):e._e()],1)},j=[],M=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"container"},[t("el-header",{staticClass:"no-padding header",attrs:{height:"30px"}},[t("span",{domProps:{textContent:e._s(e.showTitle)}}),t("div",{staticClass:"addbtn",on:{click:function(t){e.systemEmojiBox=!0}}},[e._v("系统表情")])]),t("el-main",{staticClass:"no-padding main lum-scrollbar"},[t("input",{ref:"fileCustomEmoji",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.customUploadEmoji}}),t("div",{directives:[{name:"show",rawName:"v-show",value:-1==e.showEmoticonId,expression:"showEmoticonId == -1"}],staticClass:"emoticon"},[t("div",{staticClass:"title"},[e._v("QQ表情")]),e._l(e.emoji.emojis,(function(i,n){return t("div",{staticClass:"emoticon-item",domProps:{innerHTML:e._s(i)},on:{click:function(t){return e.clickEmoticon(n)}}})})),t("div",{staticClass:"clear"}),t("div",{staticClass:"title"},[e._v("符号表情")]),e._l(e.emoji.symbol,(function(i,n){return t("div",{key:n,staticClass:"emoticon-item symbol",on:{click:function(t){return e.clickEmoticon(i)}}},[e._v(" "+e._s(i)+" ")])})),t("div",{staticClass:"clear"})],2),e._l(e.emojiItem.slice(1),(function(i){return t("div",{directives:[{name:"show",rawName:"v-show",value:i.emoticon_id==e.showEmoticonId,expression:"item.emoticon_id == showEmoticonId"}],key:i.emoticon_id,staticClass:"emoji-box"},[0==i.emoticon_id?t("div",{staticClass:"emoji-item custom-emoji",on:{click:function(t){return e.$refs.fileCustomEmoji.click()}}},[t("i",{staticClass:"el-icon-picture"}),t("span",[e._v("自定义")])]):e._e(),e._l(i.list,(function(i){return t("div",{staticClass:"emoji-item",on:{click:function(t){return e.clickImageEmoticon(i)}}},[t("el-image",{attrs:{src:i.src,fit:"cover"}})],1)})),t("div",{staticClass:"clear"})],2)}))],2),t("el-footer",{staticClass:"no-padding footer",attrs:{height:"40px"}},[t("div",{staticClass:"toolbar-items"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.emojiItem.length>13,expression:"emojiItem.length > 13"}],staticClass:"toolbar-item prev-page",on:{click:function(t){return e.turnPage(1)}}},[t("i",{staticClass:"el-icon-caret-left"})]),e._l(e.showItems,(function(i,n){return t("div",{key:n,staticClass:"toolbar-item",on:{click:function(t){return e.triggerItem(i)}}},[t("img",{attrs:{src:i.url}}),t("p",{staticClass:"title"},[e._v(e._s(i.name))])])})),t("div",{directives:[{name:"show",rawName:"v-show",value:e.emojiItem.length>13&&13==e.showItems.length,expression:"emojiItem.length > 13 && showItems.length == 13"}],staticClass:"toolbar-item next-page",on:{click:function(t){return e.turnPage(2)}}},[t("i",{staticClass:"el-icon-caret-right"})])],2)])],1),e.systemEmojiBox?t("MeEditorSystemEmoticon",{on:{close:function(t){e.systemEmojiBox=!1}}}):e._e()],1)},P=[],I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask"},[t("el-container",{directives:[{name:"outside",rawName:"v-outside",value:e.closeBox,expression:"closeBox"}],staticClass:"lum-dialog-box"},[t("el-header",{staticClass:"no-padding header",attrs:{height:"50px"}},[t("p",[e._v("系统表情")]),t("p",{staticClass:"tools"},[t("i",{staticClass:"el-icon-close",on:{click:e.closeBox}})])]),t("el-main",{staticClass:"no-padding mian lum-scrollbar"},[t("ul",e._l(e.items,(function(i,n){return t("li",{key:i.id,staticClass:"no-select"},[t("div",{staticClass:"pkg-avatar"},[t("el-image",{attrs:{src:i.icon,fit:"cover",lazy:!0}})],1),t("div",{staticClass:"pkg-info",domProps:{textContent:e._s(i.name)}}),t("div",{staticClass:"pkg-status"},[t("button",{class:{"add-emoji":0==i.status,"remove-emoji":0!=i.status},on:{click:function(t){return e.setEmoticon(n,i,0==i.status?1:2)}}},[e._v(" "+e._s(0==i.status?"添加":"移除")+" ")])])])})),0)]),t("el-footer",{staticClass:"footer",attrs:{height:"50px"}},[t("el-button",{staticClass:"btn",attrs:{type:"primary",size:"medium"},on:{click:e.closeBox}},[e._v(" 关闭窗口 ")])],1)],1)],1)},D=[],N=i("91d2"),R={name:"MeEditorSystemEmoticon",data(){return{items:[]}},created(){this.loadSysEmoticon()},methods:{closeBox(){this.$emit("close")},loadSysEmoticon(){Object(N["a"])().then(e=>{200==e.code&&(this.items=e.data)})},setEmoticon(e,t,i){Object(N["c"])({emoticon_id:t.id,type:i}).then(n=>{200==n.code&&(1==i?(this.items[e].status=1,this.$store.commit("APPEND_SYS_EMOTICON",n.data)):(this.items[e].status=0,this.$store.commit("REMOVE_SYS_EMOTICON",{emoticon_id:t.id})))})}}},B=R,L=(i("def2"),Object(d["a"])(B,I,D,!1,null,"252354e0",null)),A=L.exports,z=i("1666"),F={name:"MeEditorEmoticon",components:{MeEditorSystemEmoticon:A},computed:{...Object(o["c"])({emojiItem:e=>e.emoticon.items}),showItems(){let e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.emojiItem.slice(e,t)},pageTotal(){return this.emojiItem.length/this.pageSize}},data(){return{emoji:z["a"],systemEmojiBox:!1,showEmoticonId:-1,showTitle:"QQ表情/符号表情",page:1,pageSize:13}},created(){this.$store.commit("LOAD_USER_EMOTICON")},methods:{turnPage(e){if(1==e){if(1==this.page)return!1;this.page--}else{if(this.page>=this.pageTotal)return!1;this.page++}},triggerItem(e){this.showEmoticonId=e.emoticon_id,this.showTitle=e.name},clickEmoticon(e){this.callback({type:1,value:e})},clickImageEmoticon(e){this.callback({type:2,value:e.media_id})},callback(e){this.$emit("selected",e)},customUploadEmoji(e){if(0==e.target.files.length)return!1;this.$store.commit("UPLOAD_USER_EMOTICON",{file:e.target.files[0]})}}},U=F,q=(i("bb76"),Object(d["a"])(U,M,P,!1,null,"60452626",null)),V=q.exports,H=function(){var e=this,t=e._self._c;return e.show?t("el-container",{directives:[{name:"outside",rawName:"v-outside",value:e.closeBox,expression:"closeBox"}],staticClass:"container animated bounceInUp"},[t("el-header",{staticClass:"no-padding header",attrs:{height:"50px"}},[t("p",[e._v(" 上传管理 "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.total,expression:"total"}]},[e._v("("+e._s(e.successNum)+"/"+e._s(e.total)+")")])]),t("i",{staticClass:"close-btn el-icon-close",on:{click:e.closeBox}})]),t("el-main",{staticClass:"no-padding mian lum-scrollbar"},[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total,expression:"total == 0"}],staticClass:"empty-data"},[t("SvgNotData"),t("p",[e._v("暂无上传文件")])],1),e._l(e.items,(function(i){return t("div",{directives:[{name:"show",rawName:"v-show",value:!i.isDelete,expression:"!file.isDelete"}],key:i.hashName,staticClass:"file-item"},[t("div",{staticClass:"file-header"},[t("div",{staticClass:"type-icon"},[e._v(e._s(i.ext))]),t("el-tooltip",{attrs:{content:i.filename,placement:"top-start"}},[t("div",{staticClass:"filename"},[e._v(e._s(i.filename))])]),t("div",{staticClass:"status"},[0==i.status?t("span",[e._v("等待上传")]):1==i.status?t("span",{staticStyle:{color:"#66b1ff"}},[e._v(" 正在上传... ")]):2==i.status?t("span",{staticStyle:{color:"#67c23a"}},[e._v(" 已完成 ")]):t("span",{staticStyle:{color:"red"}},[e._v("网络异常")])])],1),t("div",{staticClass:"file-mian"},[t("div",{staticClass:"progress"},[t("el-progress",{attrs:{type:"dashboard",percentage:i.progress,width:50,color:e.colors}}),t("span",{staticClass:"name"},[e._v("上传进度")])],1),t("div",{staticClass:"detail"},[t("p",[e._v(" 文件类型："),t("span",[e._v(e._s(i.filetype))])]),t("p",[e._v(" 文件大小："),t("span",[e._v(e._s(i.filesize))])]),t("p",[e._v(" 上传时间："),t("span",[e._v(e._s(i.datetime))])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:2==i.status||3==i.status,expression:"file.status == 2 || file.status == 3"}],staticClass:"file-means"},[t("div",{staticClass:"btns",on:{click:function(t){return e.removeFile(i.hashName)}}},[e._v("删除")]),t("div",{directives:[{name:"show",rawName:"v-show",value:3==i.status,expression:"file.status == 3"}],staticClass:"btns",on:{click:function(t){return e.triggerUpload(i.hashName)}}},[e._v(" 继续上传 ")])])])}))],2)],1):e._e()},G=[],K=i("c284"),W=i.n(K),Q=(i("3c65"),i("2b0e")),X=i("04b3"),J=i("91b6");Q["default"].use(W.a);var Y={name:"MeEditorFileManage",model:{prop:"show",event:"close"},props:{show:Boolean},components:{SvgNotData:X["b"]},data(){return{colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#11ce65",percentage:100}],items:[]}},computed:{total(){return this.items.filter(e=>!1===e.isDelete).length},successNum(){return this.items.filter(e=>!1===e.isDelete&&2==e.status).length}},methods:{closeBox(){this.$emit("close",!1)},upload(e){Object(J["b"])({file_name:e.name,file_size:e.size}).then(t=>{if(200==t.code){const{upload_id:i,split_size:n}=t.data;this.items.unshift({hashName:i,originalFile:e,filename:e.name,status:0,progress:0,filesize:Object(C["d"])(e.size),filetype:e.type||"未知",datetime:Object(C["j"])(new Date,"{m}-{d} {h}:{i}"),ext:Object(C["f"])(e.name),forms:this.fileSlice(e,i,n),successNum:0,isDelete:!1}),this.triggerUpload(i)}})},fileSlice(e,t,i){const n=Math.ceil(e.size/i),s=[];for(let o=0;o<n;o++){let r=o*i,a=Math.min(e.size,r+i);const l=new FormData;l.append("file",e.slice(r,a)),l.append("upload_id",t),l.append("split_index",o),l.append("split_num",n),s.push(l)}return s},triggerUpload(e){let t=this.getFileIndex(e);if(t<0||this.items[t].isDelte)return;let i=this.items[t].successNum,n=this.items[t].forms[i],s=this.items[t].forms.length;this.items[t].status=1,Object(J["a"])(n).then(i=>{200==i.code?(t=this.getFileIndex(e),this.items[t].successNum++,this.items[t].progress=Math.floor(this.items[t].successNum/s*100),this.items[t].successNum==s?(this.items[t].status=2,i.data.is_merge&&Object(x["n"])({upload_id:i.data.upload_id,receiver_id:this.$store.state.dialogue.receiver_id,talk_type:this.$store.state.dialogue.talk_type})):this.triggerUpload(e)):this.items[t].status=3}).catch(()=>{t=this.getFileIndex(e),this.items[t].status=3})},getFileIndex(e){return this.items.findIndex(t=>t.hashName===e)},removeFile(e){let t=this.getFileIndex(e);this.items[t].isDelete=!0},clear(){this.items=[]}}},Z=Y,ee=(i("9e4a1"),Object(d["a"])(Z,H,G,!1,null,"0cd15068",null)),te=ee.exports,ie=function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"lum-dialog-mask animated fadeIn"},[t("el-container",{directives:[{name:"outside",rawName:"v-outside",value:e.closeBox,expression:"closeBox"}],staticClass:"lum-dialog-box"},[t("el-header",{staticClass:"no-padding header",attrs:{height:"50px"}},[t("p",[e._v("发送图片")]),t("p",{staticClass:"tools"},[t("i",{staticClass:"el-icon-close",on:{click:e.closeBox}})])]),t("el-main",{staticClass:"no-padding mian"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.src,expression:"src"}],attrs:{src:e.src}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.src,expression:"src"}]},[t("span",{staticClass:"filename"},[e._v(e._s(e.fileName))]),t("br"),t("span",{staticClass:"size"},[e._v(e._s(e.fileSize)+" KB")])])]),t("el-footer",{staticClass:"footer",attrs:{height:"50px"}},[t("el-button",{staticClass:"btn",attrs:{type:"primary",size:"medium",loading:e.loading},on:{click:e.uploadImage}},[e._v("立即发送 ")])],1)],1)],1):e._e()},ne=[],se={name:"MeEditorImageView",model:{prop:"show",event:"close"},props:{show:Boolean,file:File},watch:{file(e){this.loadFile(e)}},data(){return{src:"",fileSize:"",fileName:"",loading:!1}},methods:{closeBox(){if(this.loading)return!1;this.$emit("close",!1)},loadFile(e){let t=new FileReader;this.fileSize=Math.ceil(e.size/1024),this.fileName=e.name,t.onload=()=>{this.src=t.result},t.readAsDataURL(e)},uploadImage(){this.loading=!0,this.$emit("confirm")}}},oe=se,re=(i("063a"),Object(d["a"])(oe,ie,ne,!1,null,"03ff389a",null)),ae=re.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask animated fadeIn"},[t("el-container",{staticClass:"lum-dialog-box"},[t("el-header",{staticClass:"no-padding header no-select",attrs:{height:"50px"}},[t("p",[e._v("语音消息")]),t("p",{staticClass:"tools"},[t("i",{staticClass:"el-icon-close",on:{click:e.closeBox}})])]),t("el-main",{staticClass:"no-padding mian"},[t("div",{staticClass:"music"},[t("span",{staticClass:"line line1",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line2",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line3",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line4",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line5",class:{"line-ani":e.animation}})]),t("div",{staticStyle:{"margin-top":"35px",color:"#676262","font-weight":"300"}},[0==e.recorderStatus?[t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[t("span",[e._v("语音消息，让聊天更简单方便 ...")])])]:1==e.recorderStatus||2==e.recorderStatus||3==e.recorderStatus?[t("p",[e._v(e._s(e.datetime))]),t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[1==e.recorderStatus?t("span",[e._v("正在录音...")]):2==e.recorderStatus?t("span",[e._v("已暂停录音")]):3==e.recorderStatus?t("span",[e._v("录音时长")]):e._e()])]:4==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus?[t("p",[e._v(e._s(e.formatPlayTime))]),t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[4==e.recorderStatus?t("span",[e._v("正在播放")]):5==e.recorderStatus?t("span",[e._v("已暂停播放")]):6==e.recorderStatus?t("span",[e._v("播放已结束")]):e._e()])]:e._e()],2)]),t("el-footer",{staticClass:"footer",attrs:{height:"50px"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.recorderStatus,expression:"recorderStatus == 0"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-microphone"},on:{click:e.startRecorder}},[e._v("开始录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.recorderStatus,expression:"recorderStatus == 1"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-video-pause"},on:{click:e.pauseRecorder}},[e._v("暂停录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.recorderStatus,expression:"recorderStatus == 2"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-microphone"},on:{click:e.resumeRecorder}},[e._v("继续录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.recorderStatus,expression:"recorderStatus == 2"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-microphone"},on:{click:e.stopRecorder}},[e._v("结束录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||6==e.recorderStatus,expression:"recorderStatus == 3 || recorderStatus == 6"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-video-play"},on:{click:e.playRecorder}},[e._v("播放录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus,expression:"\n          recorderStatus == 3 || recorderStatus == 5 || recorderStatus == 6\n        "}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-video-play"},on:{click:e.startRecorder}},[e._v("重新录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:4==e.recorderStatus,expression:"recorderStatus == 4"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-video-pause"},on:{click:e.pausePlayRecorder}},[e._v("暂停播放 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:5==e.recorderStatus,expression:"recorderStatus == 5"}],attrs:{type:"primary",size:"mini",round:"",icon:"el-icon-video-play"},on:{click:e.resumePlayRecorder}},[e._v("继续播放 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus,expression:"\n          recorderStatus == 3 || recorderStatus == 5 || recorderStatus == 6\n        "}],attrs:{type:"primary",size:"mini",round:""},on:{click:e.submit}},[e._v("立即发送 ")])],1)],1)],1)},ce=[],ue=i("da43"),de=i.n(ue),pe={name:"MeEditorRecorder",data(){return{recorder:null,duration:0,playTime:0,animation:!1,recorderStatus:0,playTimeout:null}},computed:{datetime(){let e=parseInt(this.duration/60/60%24),t=parseInt(this.duration/60%60),i=parseInt(this.duration%60);return e<10&&(e="0"+e),t<10&&(t="0"+t),i<10&&(i="0"+i),`${e}:${t}:${i}`},formatPlayTime(){let e=parseInt(this.playTime/60/60%24),t=parseInt(this.playTime/60%60),i=parseInt(this.playTime%60);return e<10&&(e="0"+e),t<10&&(t="0"+t),i<10&&(i="0"+i),`${e}:${t}:${i}`}},destroyed(){this.recorder&&this.destroyRecorder()},methods:{closeBox(){null!=this.recorder?(1==this.recorderStatus?this.stopRecorder():4==this.recorderStatus&&this.pausePlayRecorder(),this.destroyRecorder(()=>{this.$emit("close",!1)})):this.$emit("close",!1)},startRecorder(){let e=this;this.recorder=new de.a,this.recorder.onprocess=t=>{t=parseInt(t),e.duration=t},this.recorder.start().then(()=>{this.recorderStatus=1,this.animation=!0},e=>{console.log(`${e.name} : ${e.message}`)})},pauseRecorder(){this.recorder.pause(),this.recorderStatus=2,this.animation=!1},resumeRecorder(){this.recorderStatus=1,this.recorder.resume(),this.animation=!0},stopRecorder(){this.recorderStatus=3,this.recorder.stop(),this.animation=!1},playRecorder(){this.recorderStatus=4,this.recorder.play(),this.playTimeouts(),this.animation=!0},pausePlayRecorder(){this.recorderStatus=5,this.recorder.pausePlay(),clearInterval(this.playTimeout),this.animation=!1},resumePlayRecorder(){this.recorderStatus=4,this.recorder.resumePlay(),this.playTimeouts(),this.animation=!0},destroyRecorder(e){this.recorder.destroy().then(()=>{this.recorder=null,e&&e()})},recorderSize(){return this.recorder.fileSize},playTimeouts(){this.playTimeout=setInterval(()=>{let e=parseInt(this.recorder.getPlayTime());this.playTime=e,e==this.duration&&(clearInterval(this.playTimeout),this.animation=!1,this.recorderStatus=6)},100)},submit(){let e=this.recorder.getWAVBlob(),t=new File([e],"在线录音.wav",{type:e.type,lastModified:Date.now()});this.$emit("send",t)}}},he=pe,fe=(i("4aa5"),Object(d["a"])(he,le,ce,!1,null,"6439af01",null)),me=fe.exports,ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask animated fadeIn"},[t("el-container",{staticClass:"lum-dialog-box"},[t("el-header",{staticClass:"header no-select",attrs:{height:"60px"}},[t("p",[e._v("发起投票")]),t("p",{staticClass:"tools"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.$emit("close")}}})])]),t("el-main",{staticClass:"main no-padding vote-from"},[t("div",{staticClass:"vote-title"},[e._v("投票方式")]),t("div",[t("el-radio-group",{model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[t("el-radio",{attrs:{label:0}},[e._v("单选")]),t("el-radio",{attrs:{label:1}},[e._v("多选")])],1)],1),t("div",{staticClass:"vote-title"},[e._v("投票主题")]),t("div",[t("el-input",{attrs:{size:"medium",clear:"vote-input",placeholder:"请输入投票主题，最多50字",maxlength:50},model:{value:e.title,callback:function(t){e.title="string"===typeof t?t.trim():t},expression:"title"}})],1),t("div",{staticClass:"vote-title"},[e._v("投票选项")]),t("div",[e._l(e.options,(function(i,n){return t("div",{staticClass:"vote-options"},[t("div",{staticClass:"lbox"},[t("el-input",{attrs:{size:"medium",clear:"vote-input",placeholder:"请输入选项内容",maxlength:120},model:{value:i.value,callback:function(t){e.$set(i,"value","string"===typeof t?t.trim():t)},expression:"option.value"}},[t("span",{staticStyle:{"margin-left":"7px"},attrs:{slot:"prefix"},domProps:{textContent:e._s(String.fromCharCode(65+n))},slot:"prefix"})])],1),t("div",{staticClass:"rbox"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.removeOption(n)}}})])])})),t("h6",{staticClass:"pointer add-option",on:{click:e.addOption}},[t("i",{staticClass:"el-icon-plus"}),e._v(" 添加选项 ")])],2)]),t("el-footer",{staticClass:"footer"},[t("el-button",{attrs:{plain:"",size:"small"},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"small",disabled:e.isCheck,loading:e.loading},on:{click:e.submit}},[e._v("发起投票")])],1)],1)],1)},ge=[],ye={name:"MeEditorVote",props:{group_id:{type:[String,Number],default:0}},data(){return{loading:!1,mode:0,title:"",options:[{value:""},{value:""},{value:""}]}},computed:{isCheck(){return""==this.title||this.options.some(e=>""==e.value)}},methods:{submit(){let e=[];const{receiver_id:t}=this.$store.state.dialogue;this.options.forEach(t=>{e.push(t.value)}),this.loading=!0,Object(x["q"])({receiver_id:t,mode:this.mode,title:this.title,options:e}).then(e=>{200==e.code?(this.$emit("close"),this.$notify({title:"友情提示",message:"发起投票成功!",type:"success"})):this.$notify({title:"友情提示",message:e.message,type:"warning"})}).catch(()=>{this.loading=!1})},addOption(){if(this.options.length>=6)return!1;this.options.push({value:""})},removeOption(e){if(this.options.length<=2)return!1;this.$delete(this.options,e)}}},be=ye,_e=(i("2128"),Object(d["a"])(be,ve,ge,!1,null,"1c50566d",null)),xe=_e.exports,Ce=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"位置定位",visible:!0,"show-close":!0,"append-to-body":!0}},[t("baidu-map",{staticClass:"bm-view",attrs:{center:e.center,zoom:e.zoom},on:{ready:e.handler}},[t("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}})],1)],1)],1)},we=[],ke={name:"MeEditorLocation",data(){return{center:{lng:0,lat:0},zoom:0}},computed:{},watch:{},methods:{handler({BMap:e,map:t}){this.zoom=17;var i=new e.Geolocation;i.getCurrentPosition(e=>{console.log(e),this.center={lng:e.longitude,lat:e.latitude},this.autoLocationPoint={lng:e.longitude,lat:e.latitude},this.initLocation=!0},{enableHighAccuracy:!0})}},created(){}},Se=ke,Oe=(i("4733"),Object(d["a"])(Se,Ce,we,!1,null,"48620868",null)),Ee=Oe.exports,Te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask"},[t("div",{staticClass:"container animated bounceInDown",class:{"full-screen":e.isFullScreen}},[t("el-container",{staticClass:"full-height"},[t("el-header",{staticClass:"header no-padding",attrs:{height:"50px"}},[t("div",{staticClass:"tools"},[t("span",[e._v("选择编程语言:  ")]),t("el-select",{attrs:{size:"mini",filterable:"",placeholder:"语言类型",disabled:!e.editMode},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("i",{staticClass:"el-icon-close close-btn",on:{click:e.close}}),t("i",{staticClass:"iconfont icon-full-screen",class:{"icon-tuichuquanping":e.isFullScreen,"icon-quanping ":!e.isFullScreen},attrs:{title:e.isFullScreen?"关闭全屏模式":"打开全屏模式"},on:{click:function(t){e.isFullScreen=!e.isFullScreen}}})]),t("el-main",{staticClass:"main no-padding"},[t("PrismEditor",{staticClass:"peditor",staticStyle:{"border-radius":"0"},attrs:{code:e.code,language:e.language,"line-numbers":!0},on:{change:e.codeChanged}})],1),t("el-footer",{staticClass:"footer no-padding",attrs:{height:"50px"}},[t("div",{staticClass:"code-num"},[t("span",[e._v("文字总数："+e._s(e.code.length)+"个字")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.code.length>1e4&&e.editMode,expression:"code.length > 10000 && editMode"}],staticClass:"code-warning"},[e._v(" (字数不能超过10000字) ")])]),t("div",{staticClass:"buttom-group"},[t("el-button",{attrs:{size:"small",plain:""},on:{click:e.close}},[e._v(" "+e._s(e.editMode?"取消编辑":"关闭预览")+" ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("发送代码 ")])],1)])],1)],1)])},$e=[],je=i("e772"),Me=i.n(je),Pe=i("4e4b"),Ie=i.n(Pe),De=i("431a"),Ne=i.n(De);i("fdfb"),i("fa97");Q["default"].use(Ie.a),Q["default"].use(Me.a);var Re={name:"TalkCodeBlock",components:{PrismEditor:Ne.a},props:{loadCode:{type:String,default:""},loadLang:{type:String,default:""},editMode:{type:Boolean,default:!1}},data(){return{language:"",code:"",options:[{value:"css",label:"css"},{value:"less",label:"less"},{value:"javascript",label:"javascript"},{value:"json",label:"json"},{value:"bash",label:"bash"},{value:"c",label:"c"},{value:"cil",label:"cil"},{value:"docker",label:"docker"},{value:"git",label:"git"},{value:"go",label:"go"},{value:"java",label:"java"},{value:"lua",label:"lua"},{value:"nginx",label:"nginx"},{value:"objectivec",label:"objectivec"},{value:"php",label:"php"},{value:"python",label:"python"},{value:"ruby",label:"ruby"},{value:"rust",label:"rust"},{value:"sql",label:"sql"},{value:"swift",label:"swift"},{value:"vim",label:"vim"},{value:"visual-basic",label:"visual-basic"},{value:"shell",label:"shell"}],isFullScreen:!1}},watch:{loadCode(e){this.code=e},loadLang(e){this.language=e}},created(){this.code=this.loadCode,this.language=this.loadLang},methods:{submit(){return this.code?""==this.language?(alert("请选择语言类型..."),!1):this.code.length>1e4?(alert("代码字数不能超过10000字！！！"),!1):void this.$emit("confirm",{language:this.language,code:this.code}):(alert("代码块不能为空..."),!1)},close(){this.$emit("close")},codeChanged(e){this.code=e}}},Be=Re,Le=(i("8f8a"),Object(d["a"])(Be,Te,$e,!1,null,"7cc7ee5b",null)),Ae=Le.exports;function ze(e,t){let i=void 0,n=void 0;for(i in e)if(e.hasOwnProperty(i)&&(n=t.call(e,i,e[i]),!1===n))break}function Fe(e){return null==e?"":e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function Ue(e){let t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,i=void 0;return i=null==t?window.clipboardData&&window.clipboardData.getData("text"):t.getData("text/plain"),Fe(i)}function qe(e){let t=[],i=Ue(e);if(i)return t;let n=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{},s=n.items;return s?(ze(s,(function(e,i){let n=i.type;/image/i.test(n)&&t.push(i.getAsFile())})),t):t}function Ve(e){let t=[],i=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer||{},n=i.items;return n?(ze(n,(function(e,i){let n=i.type;/image/i.test(n)&&t.push(i.getAsFile())})),t):t}var He=i("0e77"),Ge={name:"MeEditor",components:{MeEditorEmoticon:V,MeEditorFileManage:te,MeEditorImageView:ae,TalkCodeBlock:Ae,MeEditorRecorder:me,MeEditorVote:xe,MeEditorLocation:Ee},computed:{talkUser(){return this.$store.state.dialogue.index_name},isGroupTalk(){return 2==this.$store.state.dialogue.talk_type}},watch:{talkUser(e){this.$refs.filesManager.clear(),this.editorText=this.getDraftText(e)}},data(){return{editorText:"",imageViewer:{isShow:!1,file:null},codeBlock:{isShow:!1,editMode:!0},filesManager:{isShow:!1},vote:{isShow:!1},recorder:!1,sendtime:0,interval:1e3}},methods:{getDraftText(e){return Object(He["a"])(e).draft_text||""},pasteImage(e){let t=qe(e);0!=t.length&&this.openImageViewer(t[0])},dragPasteImage(e){let t=Ve(e);0!=t.length&&this.openImageViewer(t[0])},inputEvent(e){this.$emit("keyboard-event",e.target.value)},keydownEvent(e){if(13==e.keyCode&&""==this.editorText&&e.preventDefault(),13==e.keyCode&&0==e.shiftKey&&""!=this.editorText){let t=(new Date).getTime();if(this.sendtime>0&&t-this.sendtime<this.interval)return e.preventDefault(),!1;this.$emit("send",this.editorText),this.editorText="",this.sendtime=t,e.preventDefault()}},uploadImageChange(e){console.log(e.target.files[0]),this.openImageViewer(e.target.files[0]),this.$refs.restFile.value=null},uploadFileChange(e){let t=104857600;if(0==e.target.files.length)return!1;let i=e.target.files[0];/\.(gif|jpg|jpeg|png|webp|GIF|JPG|PNG|WEBP)$/.test(i.name)?this.openImageViewer(i):i.size>t?this.$notify.info({title:"消息",message:"上传文件不能大于100M"}):(this.filesManager.isShow=!0,this.$refs.restFile2.value=null,this.$refs.filesManager.upload(i))},openImageViewer(e){this.imageViewer.isShow=!0,this.imageViewer.file=e},sendRecorder(e){this.recorder=!1,this.$refs.filesManager.upload(e)},confirmCodeBlock(e){const{talk_type:t,receiver_id:i}=this.$store.state.dialogue;Object(x["m"])({talk_type:t,receiver_id:i,code:e.code,lang:e.language}).then(e=>{200==e.code?this.codeBlock.isShow=!1:this.$notify({title:"友情提示",message:e.message,type:"warning"})})},confirmUploadImage(){const{talk_type:e,receiver_id:t}=this.$store.state.dialogue;let i=new FormData;i.append("talk_type",e),i.append("receiver_id",t),i.append("image",this.imageViewer.file);let n=this.$refs.imageViewer;Object(x["o"])(i).then(e=>{n.loading=!1,200==e.code?n.closeBox():this.$notify({title:"友情提示",message:e.message,type:"warning"})}).finally(()=>{n.loading=!1})},selecteEmoticon(e){if(1==e.type){let t=this.editorText,i=this.$refs.textarea,n=i.selectionStart,s=i.selectionEnd,o=t.substring(0,n)+e.value+t.substring(s,t.length);this.editorText=o,i.setSelectionRange&&setTimeout(()=>{let t=n+e.value.length;i.setSelectionRange(t,t),i.focus()},0)}else{const{talk_type:t,receiver_id:i}=this.$store.state.dialogue;Object(x["l"])({talk_type:t,receiver_id:i,emoticon_id:e.value})}this.$refs.popoverEmoticon.doClose()},sendGeoLocation(){}}},Ke=Ge,We=(i("18d8"),Object(d["a"])(Ke,$,j,!1,null,"4d1581ee",null)),Qe=We.exports,Xe=function(){var e=this,t=e._self._c;return t("el-header",{attrs:{id:"panel-header"}},[t("div",{staticClass:"module left-module"},[t("span",{directives:[{name:"show",rawName:"v-show",value:0==e.params.is_robot,expression:"params.is_robot == 0"}],staticClass:"icon-badge",class:{"red-color":1==e.params.talk_type}},[e._v(" "+e._s(1==e.params.talk_type?"好友":"群组")+" ")]),t("span",{staticClass:"nickname"},[e._v(e._s(e.params.nickname))]),t("span",{directives:[{name:"show",rawName:"v-show",value:2==e.params.talk_type,expression:"params.talk_type == 2"}],staticClass:"num"},[e._v("("+e._s(e.groupNum)+")")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.params.talk_type&&0==e.params.is_robot,expression:"params.talk_type == 1 && params.is_robot == 0"}],staticClass:"module center-module"},[t("p",{staticClass:"online"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOnline,expression:"isOnline"}],staticClass:"online-status"}),t("span",[e._v(e._s(e.isOnline?"在线":"离线"))])]),t("p",{directives:[{name:"show",rawName:"v-show",value:e.isKeyboard,expression:"isKeyboard"}],staticClass:"keyboard-status"},[e._v("对方正在输入 ...")])]),t("div",{staticClass:"module right-module"},[t("el-tooltip",{attrs:{content:"历史消息",placement:"top"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.params.is_robot,expression:"params.is_robot == 0"}]},[t("i",{staticClass:"el-icon-time",on:{click:function(t){return e.triggerEvent("history")}}})])]),t("el-tooltip",{attrs:{content:"群公告",placement:"top"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:2==e.params.talk_type,expression:"params.talk_type == 2"}]},[t("i",{staticClass:"iconfont icon-gonggao2",on:{click:function(t){return e.triggerEvent("notice")}}})])]),t("el-tooltip",{attrs:{content:"群设置",placement:"top"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:2==e.params.talk_type,expression:"params.talk_type == 2"}]},[t("i",{staticClass:"el-icon-setting",on:{click:function(t){return e.triggerEvent("setting")}}})])])],1)])},Je=[],Ye={props:{data:{type:Object,default:()=>({talk_type:0,receiver_id:0,params:0,nickname:""})},online:{type:Boolean,default:!1},keyboard:{type:[Boolean,Number],default:!1}},data(){return{params:{talk_type:0,receiver_id:0,params:0,nickname:""},isOnline:!1,isKeyboard:!1,groupNum:0}},created(){this.setParamsData(this.data),this.setOnlineStatus(this.online)},watch:{data(e){this.setParamsData(e)},online(e){this.setOnlineStatus(e)},keyboard(e){this.isKeyboard=e,setTimeout(()=>{this.isKeyboard=!1},2e3)}},methods:{setOnlineStatus(e){this.isOnline=e},setParamsData(e){Object.assign(this.params,e)},setGroupNum(e){this.groupNum=e},triggerEvent(e){this.$emit("event",e)}}},Ze=Ye,et=(i("dcbd"),Object(d["a"])(Ze,Xe,Je,!1,null,"17b5040c",null)),tt=et.exports,it=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-select"},[t("div",{staticClass:"multi-title"},[t("span",[e._v("已选中："+e._s(e.value)+" 条消息")])]),t("div",{staticClass:"multi-main"},[t("div",{staticClass:"btn-group"},[t("div",{staticClass:"multi-icon pointer",on:{click:function(t){return e.$emit("event","merge_forward")}}},[t("i",{staticClass:"el-icon-position"})]),t("p",[e._v("合并转发")])]),t("div",{staticClass:"btn-group"},[t("div",{staticClass:"multi-icon pointer",on:{click:function(t){return e.$emit("event","forward")}}},[t("i",{staticClass:"el-icon-position"})]),t("p",[e._v("逐条转发")])]),t("div",{staticClass:"btn-group"},[t("div",{staticClass:"multi-icon pointer",on:{click:function(t){return e.$emit("event","delete")}}},[t("i",{staticClass:"el-icon-delete"})]),t("p",[e._v("批量删除")])]),t("div",{staticClass:"btn-group"},[t("div",{staticClass:"multi-icon pointer",on:{click:function(t){return e.$emit("event","close")}}},[t("i",{staticClass:"el-icon-close"})]),t("p",[e._v("关闭")])])])])},nt=[],st={props:{value:{default:0}}},ot=st,rt=(i("f32e"),Object(d["a"])(ot,it,nt,!1,null,"964f4a80",null)),at=rt.exports,lt=i("d6d2"),ct={name:"TalkEditorPanel",components:{MeEditor:Qe,GroupPanel:E["a"],TalkSearchRecord:O,GroupNotice:T["a"],SvgMentionDown:X["a"],PanelToolbar:at,PanelHeader:tt},props:{params:{type:Object,default:function(){return{talk_type:0,receiver_id:0,nickname:""}}},isOnline:{type:Boolean,default:!1}},data(){return{loadRecord:{status:0,minRecord:0},multiSelect:{isOpen:!1,items:[],mode:0},group:{panel:!1,notice:!1},keyboardEvent:{isShow:!1,time:0},findChatRecord:!1,tipsBoard:!1}},computed:{...Object(o["c"])({unreadMessage:e=>e.talks.unreadMessage,inputEvent:e=>e.notify.inputEvent,uid:e=>e.user.uid,records:e=>e.dialogue.records,index_name:e=>e.dialogue.index_name})},watch:{params(){this.loadRecord.minRecord=0,this.tipsBoard=!1,this.multiSelect={isOpen:!1,items:[],mode:0},this.loadChatRecords()}},mounted(){this.loadChatRecords()},methods:{parseTime:C["j"],sendTime:C["e"],handleHeaderEvent(e){switch(e){case"history":this.findChatRecord=!0;break;case"notice":this.group.notice=!0;break;case"setting":this.group.panel=!this.group.panel;break}},submitSendMesage(e){Object(x["p"])({receiver_id:parseInt(this.params.receiver_id),talk_type:parseInt(this.params.talk_type),text:e}).then(()=>{this.$store.commit("UPDATE_TALK_ITEM",{index_name:this.index_name,draft_text:""})})},onKeyboardEvent(e){if(this.$store.commit("UPDATE_TALK_ITEM",{index_name:this.index_name,draft_text:e}),2==this.params.talk_type||!this.isOnline)return;if(!this.$store.state.settings.keyboardEventNotify)return!1;let t=(new Date).getTime();0!=this.keyboardEvent.time&&t-this.keyboardEvent.time<2e3||(this.keyboardEvent.time=t,lt["a"].emit("event_talk_keyboard",{sender_id:parseInt(this.uid),receiver_id:parseInt(this.params.receiver_id)}))},loadChatRecords(){const e=this.uid,t={record_id:this.loadRecord.minRecord,receiver_id:this.params.receiver_id,talk_type:this.params.talk_type,limit:30};this.loadRecord.status=0;let i=document.getElementById("lumenChatPanel"),n=i.scrollHeight;Object(x["s"])(t).then(s=>{if(200!=s.code||t.receiver_id!=this.params.receiver_id&&t.talk_type!=this.params.talk_type)return;const o=s.data.rows.map(t=>(t.float="center",t.user_id>0&&(t.float=t.user_id==e?"right":"left"),t));0==t.record_id&&this.$store.commit("SET_DIALOGUE",[]),this.$store.commit("UNSHIFT_DIALOGUE",o.reverse()),this.loadRecord.status=o.length>=s.data.limit?1:2,this.loadRecord.minRecord=s.data.record_id,this.$nextTick(()=>{0==t.record_id?i.scrollTop=i.scrollHeight:i.scrollTop=i.scrollHeight-n})}).catch(()=>{this.loadRecord.status=1})},handleMultiMode(e){if("close"==e)return this.closeMultiSelect(),!1;if(this.multiSelect.items.length<=1)return!1;if("forward"==e||"merge_forward"==e){if(this.multiSelect.mode="forward"==e?1:2,this.verifyMultiSelectType(3))return this.$notify({title:"消息转发",message:"会话记录不支持合并转发"}),!1;this.$contacts({confirm:this.confirmSelectContacts})}else if("delete"==e){this.multiSelect.mode=3;let e=this.multiSelect.items;Object(x["j"])({talk_type:this.params.talk_type,receiver_id:this.params.receiver_id,record_id:e.join(",")}).then(t=>{200==t.code&&this.delRecords(e).closeMultiSelect()})}},confirmSelectContacts(e){let t=[],i=[];e.forEach(e=>{1==e.type?t.push(e.id):i.push(e.id)}),Object(x["g"])({forward_mode:this.multiSelect.mode,talk_type:parseInt(this.params.talk_type),receiver_id:parseInt(this.params.receiver_id),records_ids:this.multiSelect.items.join(","),receive_user_ids:t.join(","),receive_group_ids:i.join(",")}).then(e=>{200==e.code&&(this.closeMultiSelect(),this.$notify({title:"消息转发",message:"消息转发成功...",type:"success"}))})},compareTime(e,t){if(void 0==t)return!1;if(1==this.records[e].is_revoke)return!1;t=t.replace(/-/g,"/");let i=Math.floor(Date.parse(t)/1e3),n=Math.floor((new Date).getTime()/1e3);if(n-i<300)return!1;if(e==this.records.length-1)return!0;let s=this.records[e+1].created_at.replace(/-/g,"/");return!(Object(C["j"])(new Date(t),"{y}-{m}-{d} {h}:{i}")==Object(C["j"])(new Date(s),"{y}-{m}-{d} {h}:{i}"))},catFriendDetail(e){this.$user(e)},revokeRecords(e,t){Object(x["k"])({record_id:t.id}).then(e=>{200==e.code&&this.$store.commit("UPDATE_DIALOGUE",{id:t.id,is_revoke:1})})},removeRecords(e,t){let i=t.receiver_id;1==t.talk_type&&t.user_id!=this.uid&&(i=t.user_id),Object(x["j"])({talk_type:t.talk_type,receiver_id:i,record_id:t.id.toString()}).then(t=>{200==t.code&&this.$store.commit("DELETE_DIALOGUE",e)})},forwardRecords(e,t){this.$notify({title:"温馨提示",message:"单条记录转发开发中..."})},delRecords(e){return this.$store.commit("BATCH_DELETE_DIALOGUE",e),this},openMultiSelect(){this.multiSelect.isOpen=!0},closeMultiSelect(){this.multiSelect.isOpen=!1,this.multiSelect.items=[]},verifyMultiSelect(e){return this.multiSelect.items.indexOf(e)>=0},triggerMultiSelect(e){let t=this.multiSelect.items.indexOf(e);if(t>=0)this.multiSelect.items.splice(t,1);else{if(this.multiSelect.items.length>=30)return this.$notify({title:"温馨提示",message:"批量操作最大支持30条数据..."}),!1;this.multiSelect.items.push(e)}},verifyMultiSelectType(e){return this.records.some(t=>this.verifyMultiSelect(t.id)&&t.msg_type==e)},onCopy(e,t,i){let n=[],s="";if(document.getElementById("copy_class_"+t.id)&&(s=document.getElementById("copy_class_"+t.id).innerText),s&&n.push({label:"复制",icon:"el-icon-document-copy",customClass:"cus-contextmenu-item",onClick:()=>{Object(C["b"])(s)}}),t.user_id==this.uid){let i=(new Date).getTime()-Date.parse(t.created_at.replace(/-/g,"/"));Math.floor(i/1e3/60)<2&&n.push({label:"撤回",icon:"el-icon-s-flag",customClass:"cus-contextmenu-item",onClick:()=>{this.revokeRecords(e,t)}})}n.push({label:"删除",icon:"el-icon-delete",customClass:"cus-contextmenu-item",onClick:()=>{this.removeRecords(e,t)}}),n.push({label:"转发",icon:"el-icon-s-promotion",customClass:"cus-contextmenu-item",onClick:()=>{this.forwardRecords(e,t)}}),n.push({label:"引用",icon:"el-icon-connection",customClass:"cus-contextmenu-item",onClick:()=>{}}),n.push({label:"多选",icon:"el-icon-finished",customClass:"cus-contextmenu-item",onClick:()=>{this.openMultiSelect()}}),2==t.msg_type&&1==t.file.type&&n.push({label:"收藏",icon:"el-icon-picture",customClass:"cus-contextmenu-item",onClick:()=>{this.$store.commit("SAVE_USER_EMOTICON",{record_id:t.id})}}),this.$contextmenu({items:n,event:i,customClass:"cus-contextmenu",zIndex:3,minWidth:120}),this.closeMultiSelect(),i.preventDefault()},hideChatGroup(){this.group.panel=!1},disturbChange(e){this.$store.commit("UPDATE_TALK_ITEM",{index_name:"2_"+this.params.receiver_id,is_disturb:parseInt(e.status)})},quitGroupSuccess(){this.$emit("close-talk")},syncGroupInfo(e){this.$refs.panelHeader.setGroupNum(e.members_num)},talkPanelScroll(e){if(0==e.target.scrollTop&&1==this.loadRecord.status)return void this.loadChatRecords();const t=e.target.scrollTop+e.target.clientHeight+5;this.tipsBoard=t<e.target.scrollHeight,0==this.tipsBoard&&this.unreadMessage.num>0&&this.$store.commit("CLEAR_TLAK_UNREAD_MESSAGE")},talkPanelScrollBottom(){let e=document.getElementById("lumenChatPanel");e.scrollTop=e.scrollHeight}}},ut=ct,dt=(i("04dc"),Object(d["a"])(ut,m,v,!1,null,"1cd9e638",null)),pt=dt.exports,ht=i("1b68"),ft=function(){var e=this,t=e._self._c;return t("div",[e._v(e._s(e.time))])},mt=[],vt={components:{},props:{value:{type:String}},watch:{value(){this.setTime()}},data(){return{time:"",timeout:null}},created(){this.setTime()},destroyed(){clearInterval(this.timeout)},methods:{setTime(){this.time=Object(C["a"])(this.value);let e=(new Date).getTime(),t=new Date(this.value.replace(/-/g,"/")).getTime();clearInterval(this.timeout),e-t>21e5||(this.timeout=setTimeout(()=>{this.setTime()},6e4))}}},gt=vt,yt=Object(d["a"])(gt,ft,mt,!1,null,null,null),bt=yt.exports;const _t=document.title;var xt={name:"MessagePage",components:{MainLayout:r["a"],GroupLaunch:f["a"],TalkPanel:pt,UserSearch:ht["a"],WelcomeModule:h,UTime:bt},data(){return{subHeaderShadow:!1,launchGroupShow:!1,params:{talk_type:0,receiver_id:0,nickname:""},input:"",subMenu:!1,interval:null}},computed:{...Object(o["b"])(["topItems","talkItems","unreadNum","talkNum"]),...Object(o["c"])({loadStatus:e=>e.talks.loadStatus,talks:e=>e.talks.items,index_name:e=>e.dialogue.index_name}),subHeaderPx(){const e=7,t=this.topItems.length;let i=60;return t>e&&(i=(Math.floor(t/e)+(t%e>0?1:0))*i),i+"px"},isFriendOnline(){let e=Object(He["b"])(this.index_name);return e>=0&&1==this.talks[e].is_online}},watch:{unreadNum(e){clearInterval(this.interval),e>0?this.interval=setInterval(()=>{document.title=document.title==_t?"【新消息】"+_t:_t},2e3):document.title=_t}},beforeRouteUpdate(e,t,i){let n=Object(He["d"])();n&&this.clickTab(n),i()},created(){let e=Object(He["d"])();e&&this.clickTab(e)},mounted(){this.scrollEvent()},destroyed(){document.title=_t,clearInterval(this.interval),this.clearTalk()},methods:{beautifyTime:C["a"],closeSubMenu(){this.subMenu=!1},clearTalk(){this.params={talk_type:0,receiver_id:0,nickname:""},this.$store.commit("UPDATE_DIALOGUE_MESSAGE",{talk_type:0,receiver_id:0,is_robot:0})},triggerSubMenu(e){this.closeSubMenu(),1==e?this.launchGroupShow=!0:this.$refs.searchUsers.open()},scrollEvent(){let e=this.$refs.menusScrollbar.wrap;e.onscroll=()=>{this.subHeaderShadow=e.scrollTop>0}},groupChatSuccess(e){this.launchGroupShow=!1,sessionStorage.setItem("send_message_index_name","2_"+e.group_id),this.$store.dispatch("LOAD_TALK_ITEMS")},clickTab(e){let t=Object(He["b"])(e);if(-1==t)return;let i=this.talks[t],[n,s]=e.split("_"),o=i.remark_name?i.remark_name:i.name;this.params={talk_type:n,receiver_id:s,nickname:o,is_robot:i.is_robot},this.$store.commit("UPDATE_DIALOGUE_MESSAGE",{talk_type:n,receiver_id:s,is_robot:i.is_robot}),this.$nextTick(()=>{e==this.index_name&&(this.$store.commit("UPDATE_TALK_ITEM",{index_name:e,unread_num:0}),Object(x["a"])({talk_type:parseInt(n),receiver_id:parseInt(s)}))})},changeTalk(e){sessionStorage.setItem("send_message_index_name",e),this.$store.dispatch("LOAD_TALK_ITEMS")},closeTalk(){this.$store.commit("UPDATE_DIALOGUE_MESSAGE",{talk_type:0,receiver_id:0,is_robot:0}),this.$store.dispatch("LOAD_TALK_ITEMS")},talkItemsMenu(e,t){let i={items:[{label:"好友信息",icon:"el-icon-user",disabled:2==e.talk_type||1==e.is_robot,onClick:()=>{this.$user(e.receiver_id)}},{label:"修改备注",icon:"el-icon-edit-outline",disabled:2==e.talk_type||1==e.is_robot,onClick:()=>{this.editFriendRemarks(e)}},{label:0==e.is_top?"会话置顶":"取消置顶",icon:"el-icon-top",onClick:()=>{this.topChatItem(e)}},{label:0==e.is_disturb?"消息免打扰":"开启消息提示",icon:0==e.is_disturb?"el-icon-close-notification":"el-icon-bell",disabled:1==e.is_robot,onClick:()=>{this.setNotDisturb(e)}},{label:"移除会话",icon:"el-icon-remove-outline",divided:!0,onClick:()=>{this.delChatItem(e)}},{label:1==e.talk_type?"删除好友":"退出群聊",icon:"el-icon-delete",disabled:1==e.is_robot,onClick:()=>{let t=1==e.talk_type?"删除好友":"退出群聊";this.$confirm(`此操作将 <span style="color:red;font-size:16px;">${t}</span>, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(()=>{1==e.talk_type?this.removeFriend(e):this.removeGroup(e)})}}],event:t,zIndex:3};return this.$contextmenu(i),!1},topItemsMenu(e,t){return this.$contextmenu({items:[{label:0==e.is_top?"会话置顶":"取消置顶",icon:"el-icon-top",onClick:()=>{this.topChatItem(e)}}],event:t,zIndex:3}),!1},topChatItem(e){Object(x["t"])({list_id:e.id,type:0==e.is_top?1:2}).then(({code:t})=>{200==t&&this.$store.commit("UPDATE_TALK_ITEM",{index_name:e.index_name,is_top:0==e.is_top?1:0})})},setNotDisturb(e){Object(x["r"])({talk_type:e.talk_type,receiver_id:e.receiver_id,is_disturb:0==e.is_disturb?1:0}).then(({code:t})=>{200==t&&this.$store.commit("UPDATE_TALK_ITEM",{index_name:e.index_name,is_disturb:0==e.is_disturb?1:0})})},delChatItem(e){Object(x["e"])({list_id:e.id}).then(({code:t})=>{200==t&&(this.clearTalk(),this.$store.commit("REMOVE_TALK_ITEM",e.index_name))})},removeFriend(e){Object(b["d"])({friend_id:e.receiver_id}).then(({code:t})=>{200==t&&(this.index_name==e.index_name&&this.clearTalk(),this.$store.commit("REMOVE_TALK_ITEM",e.index_name))})},removeGroup(e){Object(_["k"])({group_id:e.receiver_id}).then(({code:t})=>{200==t&&(this.index_name==e.index_name&&this.clearTalk(),this.$store.commit("REMOVE_TALK_ITEM",e.index_name))})},editFriendRemarks(e){let t=`您正在设置【${e.name}】好友的备注信息`;e.remark_name&&(t+=`，当前备注为【${e.remark_name}】`),this.$prompt(t,"修改备注",{confirmButtonText:"确定",cancelButtonText:"取消",customClass:"border-radius0",inputPlaceholder:"请设置好友备注信息",inputValue:e.remark_name?e.remark_name:e.name,inputValidator(e){return null!=e&&""!=e||"好友备注不能为空"}}).then(({value:t})=>{if(t==e.remark_name)return!1;Object(b["e"])({friend_id:e.receiver_id,remarks:t}).then(i=>{200==i.code?(this.$store.commit("UPDATE_TALK_ITEM",{index_name:e.index_name,remark_name:t}),this.$notify({title:"成功",message:"好友备注修改成功...",type:"success"})):this.$notify({title:"消息",message:"好友备注修改失败，请稍后再试...",type:"warning"})})}).catch(()=>{})}}},Ct=xt,wt=(i("e99e"),Object(d["a"])(Ct,n,s,!1,null,"0b612dc6",null));t["default"]=wt.exports},2128:function(e,t,i){"use strict";i("359a")},"226b":function(e,t,i){},"2a5e":function(e,t,i){"use strict";t.__esModule=!0,t.default=r;var n=i("2b0e"),s=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!s.default.prototype.$isServer)if(t){var i=[],n=t.offsetParent;while(n&&e!==n&&e.contains(n))i.push(n),n=n.offsetParent;var o=t.offsetTop+i.reduce((function(e,t){return e+t.offsetTop}),0),r=o+t.offsetHeight,a=e.scrollTop,l=a+e.clientHeight;o<a?e.scrollTop=o:r>l&&(e.scrollTop=r-e.clientHeight)}else e.scrollTop=0}},"359a":function(e,t,i){},"394a":function(e,t,i){"use strict";i("42e6")},"42e6":function(e,t,i){},"431a":function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"0029":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"0a0d":function(e,t,i){e.exports=i("82e3")},"0bfb":function(e,t,i){"use strict";var n=i("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0f89":function(e,t,i){var n=i("6f8a");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"12fd":function(e,t,i){var n=i("6f8a"),s=i("da3c").document,o=n(s)&&n(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},"1b8f":function(e,t,i){var n=i("a812"),s=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?s(e+t,0):o(e,t)}},"214f":function(e,t,i){"use strict";var n=i("32e9"),s=i("2aba"),o=i("79e5"),r=i("be13"),a=i("2b4c");e.exports=function(e,t,i){var l=a(e),c=i(r,l,""[e]),u=c[0],d=c[1];o((function(){var t={};return t[l]=function(){return 7},7!=""[e](t)}))&&(s(String.prototype,e,u),n(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},"230e":function(e,t,i){var n=i("d3f4"),s=i("7726").document,o=n(s)&&n(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},2418:function(e,t,i){var n=i("6a9b"),s=i("a5ab"),o=i("1b8f");e.exports=function(e){return function(t,i,r){var a,l=n(t),c=s(l.length),u=o(r,c);if(e&&i!=i){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},2695:function(e,t,i){var n=i("43c8"),s=i("6a9b"),o=i("2418")(!1),r=i("5d8f")("IE_PROTO");e.exports=function(e,t){var i,a=s(e),l=0,c=[];for(i in a)i!=r&&n(a,i)&&c.push(i);while(t.length>l)n(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},"28a5":function(e,t,i){i("214f")("split",2,(function(e,t,n){"use strict";var s=i("aae3"),o=n,r=[].push,a="split",l="length",c="lastIndex";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[l]||2!="ab"[a](/(?:ab)*/)[l]||4!="."[a](/(.?)(.?)/)[l]||"."[a](/()()/)[l]>1||""[a](/.?/)[l]){var u=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!s(e))return o.call(i,e,t);var n,a,d,p,h,f=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,m+"g");u||(n=new RegExp("^"+y.source+"$(?!\\s)",m));while(a=y.exec(i)){if(d=a.index+a[0][l],d>v&&(f.push(i.slice(v,a.index)),!u&&a[l]>1&&a[0].replace(n,(function(){for(h=1;h<arguments[l]-2;h++)void 0===arguments[h]&&(a[h]=void 0)})),a[l]>1&&a.index<i[l]&&r.apply(f,a.slice(1)),p=a[0][l],v=d,f[l]>=g))break;y[c]===a.index&&y[c]++}return v===i[l]?!p&&y.test("")||f.push(""):f.push(i.slice(v)),f[l]>g?f.slice(0,g):f}}else"0"[a](void 0,0)[l]&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(i,s){var o=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,o,s):n.call(String(o),i,s)},n]}))},"2aba":function(e,t,i){var n=i("7726"),s=i("32e9"),o=i("69a8"),r=i("ca5a")("src"),a="toString",l=Function[a],c=(""+l).split(a);i("8378").inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,i,a){var l="function"==typeof i;l&&(o(i,"name")||s(i,"name",t)),e[t]!==i&&(l&&(o(i,r)||s(i,r,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:s(e,t,i):(delete e[t],s(e,t,i)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[r]||l.call(this)}))},"2b4c":function(e,t,i){var n=i("5537")("wks"),s=i("ca5a"),o=i("7726").Symbol,r="function"==typeof o,a=e.exports=function(e){return n[e]||(n[e]=r&&o[e]||(r?o:s)("Symbol."+e))};a.store=n},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"2ea1":function(e,t,i){var n=i("6f8a");e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},"2fdb":function(e,t,i){"use strict";var n=i("5ca1"),s=i("d2c8"),o="includes";n(n.P+n.F*i("5147")(o),"String",{includes:function(e){return!!~s(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,i){var n=i("86cc"),s=i("4630");e.exports=i("9e1e")?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},3846:function(e,t,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"3adc":function(e,t,i){var n=i("0f89"),s=i("a47f"),o=i("2ea1"),r=Object.defineProperty;t.f=i("7d95")?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),s)try{return r(e,t,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"3dcc":function(e,t,i){var n=i("d13f");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},"412e":function(e,t,i){},"43c8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},4588:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4917:function(e,t,i){i("214f")("match",1,(function(e,t,i){return[function(i){"use strict";var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},i]}))},5147:function(e,t,i){var n=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(s){}}return!0}},5537:function(e,t,i){var n=i("8378"),s=i("7726"),o="__core-js_shared__",r=s[o]||(s[o]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,i){var n=i("7726"),s=i("8378"),o=i("32e9"),r=i("2aba"),a=i("9b43"),l="prototype",c=function(e,t,i){var u,d,p,h,f=e&c.F,m=e&c.G,v=e&c.S,g=e&c.P,y=e&c.B,b=m?n:v?n[t]||(n[t]={}):(n[t]||{})[l],_=m?s:s[t]||(s[t]={}),x=_[l]||(_[l]={});for(u in m&&(i=t),i)d=!f&&b&&void 0!==b[u],p=(d?b:i)[u],h=y&&d?a(p,n):g&&"function"==typeof p?a(Function.call,p):p,b&&r(b,u,p,e&c.U),_[u]!=p&&o(_,u,h),g&&x[u]!=p&&(x[u]=p)};n.core=s,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5d8f":function(e,t,i){var n=i("7772")("keys"),s=i("7b00");e.exports=function(e){return n[e]||(n[e]=s(e))}},"626a":function(e,t,i){var n=i("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},6762:function(e,t,i){"use strict";var n=i("5ca1"),s=i("c366")(!0);n(n.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},6821:function(e,t,i){var n=i("626a"),s=i("be13");e.exports=function(e){return n(s(e))}},"69a8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"6a99":function(e,t,i){var n=i("d3f4");e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},"6a9b":function(e,t,i){var n=i("8bab"),s=i("e5fa");e.exports=function(e){return n(s(e))}},"6b54":function(e,t,i){"use strict";i("3846");var n=i("cb7c"),s=i("0bfb"),o=i("9e1e"),r="toString",a=/./[r],l=function(e){i("2aba")(RegExp.prototype,r,e,!0)};i("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?l((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?s.call(e):void 0)})):a.name!=r&&l((function(){return a.call(this)}))},"6e1f":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"6f8a":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"72d6":function(e,t,i){var n=i("8a8d"),s=i("ad9a");function o(e,t){if(!(this instanceof o))return new o(e,t);if(this.node=this.start=this.peeked=e,this.root=t,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],e&&this.higher(e))throw new Error("root must be a parent or ancestor to node")}function r(e,t){var i="nextSibling"==e;return function(s,o,r){s=this.compile(s),o=o&&o>0?o:1;var a=this.node,l=this.closingTag,c=this._revisit;while(a){if(n(i,l)&&a[t])a=a[t],l=!i;else if(1==a.nodeType&&!a[t]&&n(i,l)){if(l=i,!c)continue}else if(a[e])a=a[e],l=!i;else if(a=a.parentNode,l=i,!c)continue;if(!a||this.higher(a,this.root))break;if(s(a)&&this.selects(a,r)&&this.rejects(a,r)){if(--o)continue;return r||(this.node=a),this.closingTag=l,a}}return null}}e.exports=o,o.prototype.reset=function(e){return this.node=e||this.start,this},o.prototype.revisit=function(e){return this._revisit=void 0==e||e,this},o.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},o.prototype.atOpening=function(){return!this.closingTag},o.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},o.prototype.atClosing=function(){return this.closingTag},o.prototype.next=r("nextSibling","firstChild"),o.prototype.previous=o.prototype.prev=r("previousSibling","lastChild"),o.prototype.select=function(e){return e=this.compile(e),this._selects.push(e),this},o.prototype.selects=function(e,t){var i=this._selects,n=i.length;if(!n)return!0;for(var s=0;s<n;s++)if(i[s].call(this,e,t))return!0;return!1},o.prototype.reject=function(e){return e=this.compile(e),this._rejects.push(e),this},o.prototype.rejects=function(e,t){var i=this._rejects,n=i.length;if(!n)return!0;for(var s=0;s<n;s++)if(i[s].call(this,e,t))return!1;return!0},o.prototype.higher=function(e){var t=this.root;if(!t)return!1;e=e.parentNode;while(e&&e!=t)e=e.parentNode;return e!=t},o.prototype.compile=function(e){switch(typeof e){case"number":return function(t){return e==t.nodeType};case"string":return new Function("node","return "+s(e,"node."));case"function":return e;default:return function(){return!0}}},o.prototype.peak=o.prototype.peek=function(e,t){return 1==arguments.length&&(t=e,e=!0),t=void 0==t?1:t,t?t>0?this.next(e,t,!0):this.prev(e,Math.abs(t),!0):this.node},o.prototype.use=function(e){return e(this),this}},"74a0":function(e,t,i){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var n=/["'&<>]/;function s(e){var t,i=""+e,s=n.exec(i);if(!s)return i;var o="",r=0,a=0;for(r=s.index;r<i.length;r++){switch(i.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==r&&(o+=i.substring(a,r)),a=r+1,o+=t}return a!==r?o+i.substring(a,r):o}e.exports=s},7633:function(e,t,i){var n=i("2695"),s=i("0029");e.exports=Object.keys||function(e){return n(e,s)}},7726:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},7772:function(e,t,i){var n=i("a7d3"),s=i("da3c"),o="__core-js_shared__",r=s[o]||(s[o]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("b457")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"77f1":function(e,t,i){var n=i("4588"),s=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?s(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7b00":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},"7d95":function(e,t,i){e.exports=!i("d782")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"82e3":function(e,t,i){i("3dcc"),e.exports=i("a7d3").Date.now},8378:function(e,t){var i=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},"86cc":function(e,t,i){var n=i("cb7c"),s=i("c69a"),o=i("6a99"),r=Object.defineProperty;t.f=i("9e1e")?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),s)try{return r(e,t,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"8a8d":function(e,t){function i(e,t){return e^t}e.exports=i},"8bab":function(e,t,i){var n=i("6e1f");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"8ce0":function(e,t,i){var n=i("3adc"),s=i("f845");e.exports=i("7d95")?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},"954e":function(e,t,i){"use strict";var n,s=i("cf4f"),o={},r={default:{"&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'","&amp;":"&","&#38;":"&","&gt;":">","&#62;":">","&lt;":"<","&#60;":"<"},extras:{"&cent;":"¢","&#162;":"¢","&copy;":"©","&#169;":"©","&euro;":"€","&#8364;":"€","&pound;":"£","&#163;":"£","&reg;":"®","&#174;":"®","&yen;":"¥","&#165;":"¥"}};function a(e,t){if(!c(e))return"";var i=r[t||"default"],n=l(t,i);return e.replace(n,(function(e){return i[e]}))}function l(e,t){if(o[e])return o[e];var i=Object.keys(t).join("|"),n=new RegExp("(?=("+i+"))\\1","g");return o[e]=n,n}function c(e){return e&&"string"===typeof e}Object.defineProperty(r,"all",{get:function(){return n||(n=s({},r.default,r.extras))}}),a.chars=r.default,a.extras=r.extras,Object.defineProperty(a,"all",{get:function(){return r.all}}),e.exports=a},"9b43":function(e,t,i){var n=i("d8e8");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,i){var n=i("2b4c")("unscopables"),s=Array.prototype;void 0==s[n]&&i("32e9")(s,n,{}),e.exports=function(e){s[n][e]=!0}},"9def":function(e,t,i){var n=i("4588"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},"9e1e":function(e,t,i){e.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a47f:function(e,t,i){e.exports=!i("7d95")&&!i("d782")((function(){return 7!=Object.defineProperty(i("12fd")("div"),"a",{get:function(){return 7}}).a}))},a481:function(e,t,i){i("214f")("replace",2,(function(e,t,i){return[function(n,s){"use strict";var o=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,o,s):i.call(String(o),n,s)},i]}))},a5ab:function(e,t,i){var n=i("a812"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},a7d3:function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},a812:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},aae3:function(e,t,i){var n=i("d3f4"),s=i("2d95"),o=i("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}},ad9a:function(e,t){var i=/\b(Array|Date|Object|Math|JSON)\b/g;function n(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(i,"").match(/[a-zA-Z_]\w*/g)||[]}function s(e,t,i){var n=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return e.replace(n,(function(e){return"("==e[e.length-1]||~t.indexOf(e)?i(e):e}))}function o(e){for(var t=[],i=0;i<e.length;i++)~t.indexOf(e[i])||t.push(e[i]);return t}function r(e){return function(t){return e+t}}e.exports=function(e,t){var i=o(n(e));return t&&"string"==typeof t&&(t=r(t)),t?s(e,i,t):i}},aef6:function(e,t,i){"use strict";var n=i("5ca1"),s=i("9def"),o=i("d2c8"),r="endsWith",a=""[r];n(n.P+n.F*i("5147")(r),"String",{endsWith:function(e){var t=o(this,e,r),i=arguments.length>1?arguments[1]:void 0,n=s(t.length),l=void 0===i?n:Math.min(s(i),n),c=String(e);return a?a.call(t,c,l):t.slice(l-c.length,l)===c}})},b16a:function(e,t,i){"use strict";var n=i("412e"),s=i.n(n);s.a},b457:function(e,t){e.exports=!0},bc25:function(e,t,i){var n=i("f2fe");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,i){var n=i("6821"),s=i("9def"),o=i("77f1");e.exports=function(e){return function(t,i,r){var a,l=n(t),c=s(l.length),u=o(r,c);if(e&&i!=i){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},c69a:function(e,t,i){e.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c764:function(e,t,i){i("dc9b"),e.exports=i("a7d3").Object.values},ca5a:function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},cb7c:function(e,t,i){var n=i("d3f4");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},cf4f:function(e,t,i){"use strict";var n=i("d913");function s(e,t){for(var i in t)o(t,i)&&(e[i]=t[i])}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){n(e)||(e={});for(var t=arguments.length,i=1;i<t;i++){var o=arguments[i];n(o)&&s(e,o)}return e}},cff3:function(e,t,i){var n=i("7633"),s=i("6a9b"),o=i("d74e").f;e.exports=function(e){return function(t){var i,r=s(t),a=n(r),l=a.length,c=0,u=[];while(l>c)o.call(r,i=a[c++])&&u.push(e?[i,r[i]]:r[i]);return u}}},d13f:function(e,t,i){var n=i("da3c"),s=i("a7d3"),o=i("bc25"),r=i("8ce0"),a=i("43c8"),l="prototype",c=function(e,t,i){var u,d,p,h=e&c.F,f=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,y=e&c.W,b=f?s:s[t]||(s[t]={}),_=b[l],x=f?n:m?n[t]:(n[t]||{})[l];for(u in f&&(i=t),i)d=!h&&x&&void 0!==x[u],d&&a(b,u)||(p=d?x[u]:i[u],b[u]=f&&"function"!=typeof x[u]?i[u]:g&&d?o(p,n):y&&x[u]==p?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[l]=e[l],t}(p):v&&"function"==typeof p?o(Function.call,p):p,v&&((b.virtual||(b.virtual={}))[u]=p,e&c.R&&_&&!_[u]&&r(_,u,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},d2c8:function(e,t,i){var n=i("aae3"),s=i("be13");e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d74e:function(e,t){t.f={}.propertyIsEnumerable},d782:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d913:function(e,t,i){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},da3c:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},db0c:function(e,t,i){e.exports=i("c764")},dc9b:function(e,t,i){var n=i("d13f"),s=i("cff3")(!1);n(n.S,"Object",{values:function(e){return s(e)}})},e5fa:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},f2fe:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},f6fd:function(e,t){(function(e){var t="currentScript",i=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(n){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(e in i)if(i[e].src==t||"interactive"==i[e].readyState)return i[e];return null}}})})(document)},f845:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},fb15:function(e,t,i){"use strict";var n;(i.r(t),"undefined"!==typeof window)&&(i("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=n[1]));var s=function(){var e,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"prism-editor-wrapper"},[t.lineNumbers?n("div",{staticClass:"prism-editor__line-numbers",style:{"min-height":t.lineNumbersHeight},attrs:{"aria-hidden":"true"}},[n("div",{staticClass:"prism-editor__line-width-calc",staticStyle:{height:"0px",visibility:"hidden","pointer-events":"none"}},[t._v("\n      999\n    ")]),t._l(t.lineNumbersCount,(function(e){return n("div",{key:e,staticClass:"prism-editor__line-number token comment"},[t._v("\n      "+t._s(e)+"\n    ")])}))],2):t._e(),n("pre",t._g({ref:"pre",staticClass:"prism-editor__code",class:(e={},e["language-"+t.language]=!0,e),attrs:{contenteditable:!t.readonly,spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false"},domProps:{innerHTML:t._s(t.content)},on:{keydown:t.handleKeyDown,keyup:t.handleKeyUp,click:t.handleClick}},t.$listeners))])},o=[],r=i("db0c"),a=i.n(r),l=(i("6762"),i("2fdb"),i("0a0d")),c=i.n(l),u=(i("aef6"),i("28a5"),i("74a0")),d=i.n(u);function p(e,t,i){return"text"===t&&(e=d()(e)),'<code class="language-'.concat(i,'">').concat(e,"</code>")}var h=function(e,t){if(!t)return p(e,"text","text");t=t.toLowerCase();var i=t;if("vue"!==t&&"html"!==t||(t="markup"),"md"===t&&(t="markdown"),"ts"===t&&(t="typescript"),Prism.languages[t]){var n=Prism.highlight(e,Prism.languages[t],t);return p(n,i,t)}return p(e,"text","text")},f=(i("a481"),function(e){return e.replace("\n","<br>")}),m=f,v=i("954e"),g=i.n(v),y=function(e){return g()(e.replace(/<br>/gm,"\n").replace(/<\/?[^>]*>/gm,""))},b=y,_=(i("6b54"),i("72d6")),x=i.n(_);function C(e,t){var i=window.getSelection();if(1==arguments.length){if(!i.rangeCount)return;var n={},s=i.getRangeAt(0),o=s.cloneRange();return o.selectNodeContents(e),o.setEnd(s.endContainer,s.endOffset),n.end=o.toString().length,o.setStart(s.startContainer,s.startOffset),n.start=n.end-o.toString().length,n.atStart=0===o.startOffset,n.commonAncestorContainer=o.commonAncestorContainer,n.endContainer=o.endContainer,n.startContainer=o.startContainer,n}var r,a,l=t.end&&t.end!==t.start,c=0,u=(s=document.createRange(),x()(e).select(Node.TEXT_NODE).revisit(!1)),d=t.start>e.textContent.length?e.textContent.length:t.start,p=t.end>e.textContent.length?e.textContent.length:t.end,h=t.atStart;while(r=u.next()){var f=c;c+=r.textContent.length;var m=h?c>d:c>=d;if(!a&&m&&(a=!0,s.setStart(r,d-f),!l)){s.collapse(!0),w(e,s);break}if(l&&c>=p){s.setEnd(r,p-f),w(e,s);break}}}function w(e,t){var i=window.getSelection();e.focus(),i.removeAllRanges(),i.addRange(t)}var k=C,S=(i("4917"),function(e,t){var i=e.slice(0,t),n=i.lastIndexOf("\n")+1,s=i.slice(n);return s}),O=/^\s+/,E=function(e,t){var i=S(e,t),n=i.match(O);return null===n?"":n[0]||""},T=/^(\t| {2})* {2}$/,$=function(e,t){var i=S(e,t);return T.test(i)?2:0},j={shift:16,ctrl:17,alt:18,pauseBreak:19,capsLock:20,esc:27,pageUp:33,pageDown:34,end:35,home:36,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,printScreen:44,meta:91,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numLock:144,scrollLock:145},M={model:{prop:"code",event:"change"},props:{emitEvents:{type:Boolean,default:!1},language:{type:String,default:"js"},lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},code:{type:String,default:""}},data:function(){return{undoStack:[],selection:void 0,lineNumbersHeight:"20px",undoOffset:0,undoTimestamp:0,lastPos:0,codeData:"",composing:!1}},watch:{code:{immediate:!0,handler:function(e){this.codeData=e||""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick((function(){e.setLineNumbersHeight()}))}},lineNumbers:function(){var e=this;this.$nextTick((function(){e.styleLineNumbers(),e.setLineNumbersHeight()}))}},computed:{content:function(){return h(this.codeData||"",this.language)},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return this.codeData.endsWith("\n")&&e--,e}},updated:function(){this.selection&&k(this.$refs.pre,this.selection)},mounted:function(){var e=this;this.recordChange(this.getPlain()),this.undoTimestamp=0,this.styleLineNumbers();var t=function(t){t.preventDefault();var i=k(e.$refs.pre),n=(t.originalEvent||t).clipboardData.getData("Text");document.execCommand("insertHTML",!1,d()(n));var s=i.end+n.length;e.selection={start:s,end:s};var o=e.getPlain();e.recordChange(o,e.selection),e.updateContent(o),e.setLineNumbersHeight()},i=this.$refs.pre;i.addEventListener("paste",t),this.$once("hook:beforeDestroy",(function(){i.removeEventListener("paste",t)})),i.addEventListener("compositionstart",(function(){e.composing=!0})),i.addEventListener("compositionend",(function(){e.composing=!1}))},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(this.lineNumbers&&this.autoStyleLineNumbers){var e=this.$refs.pre,t=this.$el.querySelector(".prism-editor__line-numbers"),i=window.getComputedStyle(e);this.$nextTick((function(){var n="border-top-left-radius",s="border-bottom-left-radius";t.style[n]=i[n],t.style[s]=i[s],e.style[n]=0,e.style[s]=0;var o=["background-color","margin-top","padding-top","font-family","font-size","line-height"];o.forEach((function(e){t.style[e]=i[e]})),t.style["margin-bottom"]="-"+i["padding-top"]}))}},handleClick:function(e){this.emitEvents&&this.$emit("editorClick",e),this.undoTimestamp=0,this.selection=k(this.$refs.pre)},getPlain:function(){if(this._innerHTML===this.$refs.pre.innerHTML)return this._plain;var e=b(m(this.$refs.pre.innerHTML));return this._innerHTML=this.$refs.pre.innerHTML,this._plain=e,this._plain},recordChange:function(e,t){if(e!==this.undoStack[this.undoStack.length-1]){this.undoOffset>0&&(this.undoStack=this.undoStack.slice(0,-this.undoOffset),this.undoOffset=0);var i=c()(),n={plain:e,selection:t};i-this.undoTimestamp<3e3?this.undoStack[this.undoStack.length-1]=n:(this.undoStack.push(n),this.undoStack.length>50&&this.undoStack.shift()),this.undoTimestamp=i}},updateContent:function(e){this.$emit("change",e),this.$emit("update:code",e)},restoreStackState:function(e){var t=this.undoStack[this.undoStack.length-1-e],i=t.plain,n=t.selection;this.selection=n,this.undoOffset=e,this.updateContent(i)},undo:function(){var e=this.undoOffset+1;e>=this.undoStack.length||this.restoreStackState(e)},redo:function(){var e=this.undoOffset-1;e<0||this.restoreStackState(e)},handleKeyDown:function(e){if(this.emitEvents&&this.$emit("keydown",e),9!==e.keyCode||this.ignoreTabKey)if(8===e.keyCode){var t=k(this.$refs.pre),i=t.start,n=t.end;if(i!==n)return;var s=$(this.$refs.pre.innerText,i);if(s<=0)return;for(var o=0;o<s;o++)document.execCommand("delete",!1);e.preventDefault()}else if(13===e.keyCode){var r=k(this.$refs.pre),a=r.start,l=E(this.$refs.pre.innerText,a);document.execCommand("insertHTML",!1,"\n "+l),document.execCommand("delete",!1),e.preventDefault()}else 90!==e.keyCode||e.metaKey===e.ctrlKey||e.altKey||(e.shiftKey?this.redo():this.undo(),e.preventDefault());else document.execCommand("insertHTML",!1,"  "),e.preventDefault()},handleKeyUp:function(e){var t=e.which;if(this.composing){if(13!==t)return;this.composing=!1}if(this.code||(this.codeData=e.target.innerText),this.emitEvents&&this.$emit("keyup",e),91!==e.keyCode&&93!==e.keyCode&&!e.ctrlKey&&!e.metaKey)if(13===e.keyCode&&(this.undoTimestamp=0),this.selection=k(this.$refs.pre),a()(j).includes(e.keyCode))this.undoTimestamp=0;else{var i=this.getPlain();this.recordChange(i,this.selection),this.updateContent(i)}}}},P=M;i("b16a");function I(e,t,i,n,s,o,r,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var D=I(P,s,o,!1,null,null,null),N=D.exports;t["default"]=N}})["default"]},"43ac":function(e,t,i){},"46f4":function(e,t,i){},4733:function(e,t,i){"use strict";i("cb75")},"4aa5":function(e,t,i){"use strict";i("57f3")},"4e4b":function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=62)}({0:function(e,t,i){"use strict";function n(e,t,i,n,s,o,r,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},10:function(e,t){e.exports=i("f3ad")},12:function(e,t){e.exports=i("417f")},15:function(e,t){e.exports=i("14e9")},16:function(e,t){e.exports=i("4010")},19:function(e,t){e.exports=i("0e15")},21:function(e,t){e.exports=i("d397")},22:function(e,t){e.exports=i("12f2")},3:function(e,t){e.exports=i("8122")},31:function(e,t){e.exports=i("2a5e")},33:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[i("span",[e._v(e._s(e.currentLabel))])])],2)},s=[];n._withStripped=!0;var o=i(4),r=i.n(o),a=i(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c={mixins:[r.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,s=i.valueKey;if(!this.created&&!n){if(s&&"object"===("undefined"===typeof e?"undefined":l(e))&&"object"===("undefined"===typeof t?"undefined":l(t))&&e[s]===t[s])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return Object(a["getValueByPath"])(e,i)===Object(a["getValueByPath"])(t,i)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some((function(e){return Object(a["getValueByPath"])(e,i)===Object(a["getValueByPath"])(t,i)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(a["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,i=e.multiple,n=i?t:[t],s=this.select.cachedOptions.indexOf(this),o=n.indexOf(this);s>-1&&o<0&&this.select.cachedOptions.splice(s,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=c,d=i(0),p=Object(d["a"])(u,n,s,!1,null,null,null);p.options.__file="packages/select/src/option.vue";t["a"]=p.exports},38:function(e,t){e.exports=i("8bbc")},4:function(e,t){e.exports=i("d010")},5:function(e,t){e.exports=i("e974")},6:function(e,t){e.exports=i("6b7c")},62:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?i("span",[i("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?i("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():i("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t){return i("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(i){e.deleteTag(i,t)}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])})),1),e.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deletePrevTag(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),i("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.debouncedOnInputChange,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?i("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?i("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)},s=[];n._withStripped=!0;var o=i(4),r=i.n(o),a=i(22),l=i.n(a),c=i(6),u=i.n(c),d=i(10),p=i.n(d),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)},f=[];h._withStripped=!0;var m=i(5),v=i.n(m),g={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[v.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},y=g,b=i(0),_=Object(b["a"])(y,h,f,!1,null,null,null);_.options.__file="packages/select/src/select-dropdown.vue";var x=_.exports,C=i(33),w=i(38),k=i.n(w),S=i(15),O=i.n(S),E=i(19),T=i.n(E),$=i(12),j=i.n($),M=i(16),P=i(31),I=i.n(P),D=i(3),N={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(e){return e.visible})).every((function(e){return e.disabled}))}},watch:{hoverIndex:function(e){var t=this;"number"===typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach((function(e){e.hover=t.hoverOption===e}))}},methods:{navigateOptions:function(e){var t=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(e),this.$nextTick((function(){return t.scrollToOption(t.hoverOption)}))}}else this.visible=!0}}},R=i(21),B={mixins:[r.a,u.a,l()("reference"),N],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(D["isIE"])()&&!Object(D["isEdge"])()&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,t=this.clearable&&!this.selectDisabled&&this.inputHovering&&e;return t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter((function(e){return!e.created})).some((function(t){return t.currentLabel===e.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return"undefined"!==typeof this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:p.a,ElSelectMenu:x,ElOption:C["a"],ElTag:k.a,ElScrollbar:O.a},directives:{Clickoutside:j.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))},propPlaceholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(D["valueEquals"])(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e=this;if(!this.$isServer){this.$nextTick((function(){e.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var t=this.$el.querySelectorAll("input");-1===[].indexOf.call(t,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleNavigate:function(e){this.isOnComposition||this.navigateOptions(e)},handleComposition:function(e){var t=this,i=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick((function(e){return t.handleQueryChange(i)}));else{var n=i[i.length-1]||"";this.isOnComposition=!Object(R["isKorean"])(n)}},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!==typeof this.filterMethod&&"function"!==typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick((function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()})),this.remote&&"function"===typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"===typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){var t=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&t){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");I()(i,t)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick((function(){return e.scrollToOption(e.selected)}))},emitChange:function(e){Object(D["valueEquals"])(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,i="[object object]"===Object.prototype.toString.call(e).toLowerCase(),n="[object null]"===Object.prototype.toString.call(e).toLowerCase(),s="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var r=this.cachedOptions[o],a=i?Object(D["getValueByPath"])(r.value,this.valueKey)===Object(D["getValueByPath"])(e,this.valueKey):r.value===e;if(a){t=r;break}}if(t)return t;var l=i||n||s?"":String(e),c={value:e,currentLabel:l};return this.multiple&&(c.hitState=!1),c},setSelected:function(){var e=this;if(!this.multiple){var t=this.getOption(this.value);return t.created?(this.createdLabel=t.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=t.currentLabel,this.selected=t,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach((function(t){i.push(e.getOption(t))})),this.selected=i,this.$nextTick((function(){e.resetInputHeight()}))},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout((function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)}),50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var t=this.value.slice();t.pop(),this.$emit("input",t),this.emitChange(t)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,i=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],n=e.$refs.tags,s=n?Math.round(n.getBoundingClientRect().height):0,o=e.initialInputHeight||40;i.style.height=0===e.selected.length?o+"px":Math.max(n?s+(s>o?6:0):0,o)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function(){var e=this;setTimeout((function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map((function(t){return e.options.indexOf(t)}))):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)}),300)},handleOptionSelect:function(e,t){var i=this;if(this.multiple){var n=(this.value||[]).slice(),s=this.getValueIndex(n,e.value);s>-1?n.splice(s,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(e.value),this.$emit("input",n),this.emitChange(n),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick((function(){i.scrollToOption(e)}))},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i="[object object]"===Object.prototype.toString.call(t).toLowerCase();if(i){var n=this.valueKey,s=-1;return e.some((function(e,i){return Object(D["getValueByPath"])(e,n)===Object(D["getValueByPath"])(t,n)&&(s=i,!0)})),s}return e.indexOf(t)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();var t=this.multiple?[]:"";this.$emit("input",t),this.emitChange(t),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var i=this.selected.indexOf(t);if(i>-1&&!this.selectDisabled){var n=this.value.slice();n.splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",t.value)}e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var e=!1,t=this.options.length-1;t>=0;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(D["getValueByPath"])(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=T()(this.debounce,(function(){e.onInputChange()})),this.debouncedQueryChange=T()(this.debounce,(function(t){e.handleQueryChange(t.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(M["addResizeListener"])(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var i={medium:36,small:32,mini:28},n=t.$el.querySelector("input");this.initialInputHeight=n.getBoundingClientRect().height||i[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(M["removeResizeListener"])(this.$el,this.handleResize)}},L=B,A=Object(b["a"])(L,n,s,!1,null,null,null);A.options.__file="packages/select/src/select.vue";var z=A.exports;z.install=function(e){e.component(z.name,z)};t["default"]=z}})},5404:function(e,t,i){},"57f3":function(e,t,i){},6034:function(e,t,i){},"7c75":function(e,t,i){},8883:function(e,t,i){},"8bbc":function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=132)}({0:function(e,t,i){"use strict";function n(e,t,i,n,s,o,r,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},132:function(e,t,i){"use strict";i.r(t);var n,s,o={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,i=this.tagSize,n=this.hit,s=this.effect,o=["el-tag",t?"el-tag--"+t:"",i?"el-tag--"+i:"",s?"el-tag--"+s:"",n&&"is-hit"],r=e("span",{class:o,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?r:e("transition",{attrs:{name:"el-zoom-in-center"}},[r])}},r=o,a=i(0),l=Object(a["a"])(r,n,s,!1,null,null,null);l.options.__file="packages/tag/src/tag.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},"8f8a":function(e,t,i){"use strict";i("226b")},"9e4a1":function(e,t,i){"use strict";i("e652")},"9ec4":function(e,t,i){},a3b0:function(e,t,i){},ad9a:function(e,t,i){
/*!
 * 
 * js-audio-recorder - js audio recorder plugin
 * 
 * @version v1.0.7
 * @homepage https://github.com/2fps/recorder
 * @author 2fps <echoweb@126.com> (https://www.zhuyuntao.cn)
 * @license MIT
 *         
 */
!function(t,i){e.exports=i()}(0,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";function n(e,t,i){for(var n=0;n<i.length;n++)e.setUint8(t+n,i.charCodeAt(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.compress=function(e,t,i){for(var n=t/i,s=Math.max(n,1),o=e.left,r=e.right,a=Math.floor((o.length+r.length)/n),l=new Float32Array(a),c=0,u=0;c<a;){var d=Math.floor(u);l[c]=o[d],c++,r.length&&(l[c]=r[d],c++),u+=s}return l},t.encodePCM=function(e,t,i){void 0===i&&(i=!0);var n=0,s=e.length*(t/8),o=new ArrayBuffer(s),r=new DataView(o);if(8===t)for(var a=0;a<e.length;a++,n++){var l=(c=Math.max(-1,Math.min(1,e[a])))<0?128*c:127*c;l=+l+128,r.setInt8(n,l)}else for(a=0;a<e.length;a++,n+=2){var c=Math.max(-1,Math.min(1,e[a]));r.setInt16(n,c<0?32768*c:32767*c,i)}return r},t.encodeWAV=function(e,t,i,s,o,r){void 0===r&&(r=!0);var a=i>t?t:i,l=o,c=new ArrayBuffer(44+e.byteLength),u=new DataView(c),d=s,p=0;n(u,p,"RIFF"),p+=4,u.setUint32(p,36+e.byteLength,r),n(u,p+=4,"WAVE"),n(u,p+=4,"fmt "),p+=4,u.setUint32(p,16,r),p+=4,u.setUint16(p,1,r),p+=2,u.setUint16(p,d,r),p+=2,u.setUint32(p,a,r),p+=4,u.setUint32(p,d*a*(l/8),r),p+=4,u.setUint16(p,d*(l/8),r),p+=2,u.setUint16(p,l,r),n(u,p+=2,"data"),p+=4,u.setUint32(p,e.byteLength,r),p+=4;for(var h=0;h<e.byteLength;)u.setUint8(p,e.getUint8(h)),p++,h++;return u}},function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),r=i(0),a=i(3),l=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.isrecording=!1,i.ispause=!1,i.isplaying=!1,i}return s(t,e),t.prototype.setOption=function(e){void 0===e&&(e={}),this.setNewOption(e)},t.prototype.start=function(){return this.isrecording?Promise.reject():(this.isrecording=!0,this.startRecord())},t.prototype.pause=function(){this.isrecording&&!this.ispause&&(this.ispause=!0,this.pauseRecord())},t.prototype.resume=function(){this.isrecording&&this.ispause&&(this.ispause=!1,this.resumeRecord())},t.prototype.stop=function(){this.isrecording&&(this.isrecording=!1,this.ispause=!1,this.stopRecord())},t.prototype.play=function(){this.stop(),this.isplaying=!0,this.onplay&&this.onplay(),a.default.addPlayEnd(this.onplayend);var e=this.getWAV();e.byteLength>44&&a.default.play(e.buffer)},t.prototype.getPlayTime=function(){return a.default.getPlayTime()},t.prototype.pausePlay=function(){!this.isrecording&&this.isplaying&&(this.isplaying=!1,this.onpauseplay&&this.onpauseplay(),a.default.pausePlay())},t.prototype.resumePlay=function(){this.isrecording||this.isplaying||(this.isplaying=!0,this.onresumeplay&&this.onresumeplay(),a.default.resumePlay())},t.prototype.stopPlay=function(){this.isrecording||(this.isplaying=!1,this.onstopplay&&this.onstopplay(),a.default.stopPlay())},t.prototype.destroy=function(){return a.default.destroyPlay(),this.destroyRecord()},t.prototype.getRecordAnalyseData=function(){return this.getAnalyseData()},t.prototype.getPlayAnalyseData=function(){return a.default.getAnalyseData()},t.prototype.getPCM=function(){this.stop();var e=this.getData();return e=r.compress(e,this.inputSampleRate,this.outputSampleRate),r.encodePCM(e,this.oututSampleBits,this.littleEdian)},t.prototype.getPCMBlob=function(){return new Blob([this.getPCM()])},t.prototype.downloadPCM=function(e){void 0===e&&(e="recorder");var t=this.getPCMBlob();o.downloadPCM(t,e)},t.prototype.getWAV=function(){var e=this.getPCM();return r.encodeWAV(e,this.inputSampleRate,this.outputSampleRate,this.config.numChannels,this.oututSampleBits,this.littleEdian)},t.prototype.getWAVBlob=function(){return new Blob([this.getWAV()],{type:"audio/wav"})},t.prototype.downloadWAV=function(e){void 0===e&&(e="recorder");var t=this.getWAVBlob();o.downloadWAV(t,e)},t.prototype.download=function(e,t,i){o.download(e,t,i)},t.prototype.getChannelData=function(){var e=this.getPCM(),t=e.byteLength,i=this.littleEdian,n={left:null,right:null};if(2===this.config.numChannels){var s=new DataView(new ArrayBuffer(t/2)),o=new DataView(new ArrayBuffer(t/2));if(16===this.config.sampleBits)for(var r=0;r<t/2;r+=2)s.setInt16(r,e.getInt16(2*r,i),i),o.setInt16(r,e.getInt16(2*r+2,i),i);else for(r=0;r<t/2;r+=2)s.setInt8(r,e.getInt8(2*r)),o.setInt8(r,e.getInt8(2*r+1));n.left=s,n.right=o}else n.left=e;return n},t}(i(5).default);t.default=l},function(e,t,i){"use strict";function n(e,t,i){var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t+"."+i,n.click()}Object.defineProperty(t,"__esModule",{value:!0}),t.downloadWAV=function(e,t){void 0===t&&(t="recorder"),n(e,t,"wav")},t.downloadPCM=function(e,t){void 0===t&&(t="recorder"),n(e,t,"pcm")},t.download=function(e,t,i){return n(e,t,i)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),s=null,o=0,r=0,a=null,l=null,c=null,u=!1,d=0,p=function(){};function h(){return u=!1,a.decodeAudioData(c.slice(0),(function(e){(s=a.createBufferSource()).onended=function(){u||(d=a.currentTime-r+o,p())},s.buffer=e,s.connect(l),l.connect(a.destination),s.start(0,o),r=a.currentTime}),(function(e){n.throwError(e)}))}function f(){s&&(s.stop(),s=null)}var m=function(){function e(){}return e.play=function(e){return a||(a=new(window.AudioContext||window.webkitAudioContext),(l=a.createAnalyser()).fftSize=2048),this.stopPlay(),c=e,d=0,h()},e.pausePlay=function(){f(),o+=a.currentTime-r,u=!0},e.resumePlay=function(){return h()},e.stopPlay=function(){o=0,c=null,f()},e.destroyPlay=function(){this.stopPlay()},e.getAnalyseData=function(){var e=new Uint8Array(l.frequencyBinCount);return l.getByteTimeDomainData(e),e},e.addPlayEnd=function(e){void 0===e&&(e=function(){}),p=e},e.getPlayTime=function(){var e=u?o:a.currentTime-r+o;return d||e},e}();t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=function(e){throw new Error(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),s=function(){function e(t){void 0===t&&(t={}),this.size=0,this.lBuffer=[],this.rBuffer=[],this.tempPCM=[],this.inputSampleBits=16,this.fileSize=0,this.duration=0,this.needRecord=!0;var i,n=new(window.AudioContext||window.webkitAudioContext);this.inputSampleRate=n.sampleRate,this.setNewOption(t),this.littleEdian=(i=new ArrayBuffer(2),new DataView(i).setInt16(0,256,!0),256===new Int16Array(i)[0]),e.initUserMedia()}return e.prototype.setNewOption=function(e){void 0===e&&(e={}),this.config={sampleBits:~[8,16].indexOf(e.sampleBits)?e.sampleBits:16,sampleRate:~[8e3,11025,16e3,22050,24e3,44100,48e3].indexOf(e.sampleRate)?e.sampleRate:this.inputSampleRate,numChannels:~[1,2].indexOf(e.numChannels)?e.numChannels:1},this.outputSampleRate=this.config.sampleRate,this.oututSampleBits=this.config.sampleBits},e.prototype.startRecord=function(){var e=this;return this.context&&this.destroyRecord(),this.initRecorder(),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.audioInput=e.context.createMediaStreamSource(t),e.stream=t})).then((function(){e.audioInput.connect(e.analyser),e.analyser.connect(e.recorder),e.recorder.connect(e.context.destination)}))},e.prototype.pauseRecord=function(){this.needRecord=!1},e.prototype.resumeRecord=function(){this.needRecord=!0},e.prototype.stopRecord=function(){this.audioInput&&this.audioInput.disconnect(),this.source&&this.source.stop(),this.recorder.disconnect(),this.analyser.disconnect(),this.needRecord=!0},e.prototype.destroyRecord=function(){return this.clearRecordStatus(),this.stopStream(),this.closeAudioContext()},e.prototype.getAnalyseData=function(){var e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteTimeDomainData(e),e},e.prototype.getData=function(){return this.flat()},e.prototype.clearRecordStatus=function(){this.lBuffer.length=0,this.rBuffer.length=0,this.size=0,this.fileSize=0,this.PCM=null,this.audioInput=null,this.duration=0},e.prototype.flat=function(){var e=null,t=new Float32Array(0);1===this.config.numChannels?e=new Float32Array(this.size):(e=new Float32Array(this.size/2),t=new Float32Array(this.size/2));for(var i=0,n=0;n<this.lBuffer.length;n++)e.set(this.lBuffer[n],i),i+=this.lBuffer[n].length;for(i=0,n=0;n<this.rBuffer.length;n++)t.set(this.rBuffer[n],i),i+=this.rBuffer[n].length;return{left:e,right:t}},e.prototype.initRecorder=function(){var e=this;this.clearRecordStatus(),this.context=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=2048;var t=this.context.createScriptProcessor||this.context.createJavaScriptNode;this.recorder=t.apply(this.context,[4096,this.config.numChannels,this.config.numChannels]),this.recorder.onaudioprocess=function(t){if(e.needRecord){var i,n=t.inputBuffer.getChannelData(0),s=null;e.lBuffer.push(new Float32Array(n)),e.size+=n.length,2===e.config.numChannels&&(s=t.inputBuffer.getChannelData(1),e.rBuffer.push(new Float32Array(s)),e.size+=s.length),e.fileSize=Math.floor(e.size/Math.max(e.inputSampleRate/e.outputSampleRate,1))*(e.oututSampleBits/8),i=100*Math.max.apply(Math,n),e.duration+=4096/e.inputSampleRate,e.onprocess&&e.onprocess(e.duration),e.onprogress&&e.onprogress({duration:e.duration,fileSize:e.fileSize,vol:i})}}},e.prototype.stopStream=function(){this.stream&&this.stream.getTracks&&(this.stream.getTracks().forEach((function(e){return e.stop()})),this.stream=null)},e.prototype.closeAudioContext=function(){return this.context&&this.context.close&&"closed"!==this.context.state?this.context.close():new Promise((function(e){e()}))},e.initUserMedia=function(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(i,n){t.call(navigator,e,i,n)})):Promise.reject(new Error("浏览器不支持 getUserMedia !"))})},e.prototype.transformIntoPCM=function(e,t){var i=new Float32Array(e),s=new Float32Array(t),o=n.compress({left:i,right:s},this.inputSampleRate,this.outputSampleRate);return n.encodePCM(o,this.oututSampleBits,this.littleEdian)},e.getPermission=function(){return this.initUserMedia(),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){e&&e.getTracks().forEach((function(e){return e.stop()}))}))},e}();t.default=s}]).default}))},b60a:function(e,t,i){},bb76:function(e,t,i){"use strict";i("b60a")},cb75:function(e,t,i){},da43:function(e,t,i){e.exports=i("ad9a")},dcbd:function(e,t,i){"use strict";i("6034")},def2:function(e,t,i){"use strict";i("a3b0")},dfdb:function(e,t,i){e.exports=i.p+"static/img/chat-search-no-message.12fcffd6.png"},e652:function(e,t,i){},e772:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=54)}({0:function(e,t,i){"use strict";function n(e,t,i,n,s,o,r,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},3:function(e,t){e.exports=i("8122")},33:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[i("span",[e._v(e._s(e.currentLabel))])])],2)},s=[];n._withStripped=!0;var o=i(4),r=i.n(o),a=i(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c={mixins:[r.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,s=i.valueKey;if(!this.created&&!n){if(s&&"object"===("undefined"===typeof e?"undefined":l(e))&&"object"===("undefined"===typeof t?"undefined":l(t))&&e[s]===t[s])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return Object(a["getValueByPath"])(e,i)===Object(a["getValueByPath"])(t,i)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some((function(e){return Object(a["getValueByPath"])(e,i)===Object(a["getValueByPath"])(t,i)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(a["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,i=e.multiple,n=i?t:[t],s=this.select.cachedOptions.indexOf(this),o=n.indexOf(this);s>-1&&o<0&&this.select.cachedOptions.splice(s,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=c,d=i(0),p=Object(d["a"])(u,n,s,!1,null,null,null);p.options.__file="packages/select/src/option.vue";t["a"]=p.exports},4:function(e,t){e.exports=i("d010")},54:function(e,t,i){"use strict";i.r(t);var n=i(33);n["a"].install=function(e){e.component(n["a"].name,n["a"])},t["default"]=n["a"]}})},e99e:function(e,t,i){"use strict";i("5404")},f32e:function(e,t,i){"use strict";i("46f4")},f5e0:function(e,t,i){e.exports=i.p+"static/img/chat.ead10fbb.png"},fdfb:function(e,t,i){}}]);