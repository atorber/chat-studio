import{T as R,u as V,B as F}from"./useForm-02840107.js";import{b5 as I,d as B,b6 as D,r as d,m as w,V as S,b as u,c as q,i as $,g as o,w as t,a as n,A as p,W as A,X as m,b7 as G,b8 as K,F as M,_ as W}from"./index-0666afcb.js";import{P as j}from"./PageTitle-01afe82e.js";import"./vuedraggable.umd-52050170.js";import"./SettingOutlined-134cec07.js";const E=f=>I("/api/v1/keyword/list",f),J=[{title:"序号",key:"recordId",width:150},{title:"类型",key:"type",width:200},{title:"关键词",key:"name",width:200},{title:"说明",key:"desc",width:200},{title:"详细说明",key:"details",width:200}],L=B({__name:"index",setup(f){const k={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},h=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}];D();const b=d(null),g=d(),r=d(!1),i=d(!1),s=w({name:"",address:"",date:null});w({width:220,title:"操作",key:"action",fixed:"right",render(e){return S(R,{style:"button",actions:[{label:"删除",onClick:C.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],select:l=>{window.$message.info(`您点击了，${l} 按钮`)}})}});const[O,{getFieldsValue:y}]=V({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:h}),x=async e=>{const{data:l}=await E({...y(),...e});return console.log("data",JSON.stringify(l)),l};function N(e){console.log(e)}function _(){g.value.reload()}function P(e){e.preventDefault(),i.value=!0,b.value.validate(l=>{l?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{r.value=!1,_()})),i.value=!1})}function C(e){console.log("点击了删除",e),window.$message.info("点击了删除")}return(e,l)=>{const c=u("n-button"),v=u("n-input"),T=u("n-space"),U=u("n-modal");return q(),$(M,null,[o(j,{title:"关键词"}),o(n(K),{bordered:!1,class:"proCard"},{default:t(()=>[o(n(F),{columns:n(J),request:x,"row-key":a=>a.id,ref_key:"actionRef",ref:g,"onUpdate:checkedRowKeys":N,"scroll-x":1090},{toolbar:t(()=>[o(c,{type:"primary",onClick:_},{default:t(()=>[p("刷新数据")]),_:1})]),_:1},8,["columns","row-key"]),o(U,{show:r.value,"onUpdate:show":l[4]||(l[4]=a=>r.value=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:t(()=>[o(T,null,{default:t(()=>[o(c,{onClick:l[3]||(l[3]=()=>r.value=!1)},{default:t(()=>[p("取消")]),_:1}),o(c,{type:"info",loading:i.value,onClick:P},{default:t(()=>[p("确定")]),_:1},8,["loading"])]),_:1})]),default:t(()=>[o(n(A),{model:s,rules:k,ref_key:"formRef",ref:b,"label-placement":"left","label-width":80,class:"py-4"},{default:t(()=>[o(n(m),{label:"名称",path:"name"},{default:t(()=>[o(v,{placeholder:"请输入名称",value:s.name,"onUpdate:value":l[0]||(l[0]=a=>s.name=a)},null,8,["value"])]),_:1}),o(n(m),{label:"地址",path:"address"},{default:t(()=>[o(v,{type:"textarea",placeholder:"请输入地址",value:s.address,"onUpdate:value":l[1]||(l[1]=a=>s.address=a)},null,8,["value"])]),_:1}),o(n(m),{label:"日期",path:"date"},{default:t(()=>[o(n(G),{type:"datetime",placeholder:"请选择日期",value:s.date,"onUpdate:value":l[2]||(l[2]=a=>s.date=a)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});const Z=W(L,[["__scopeId","data-v-106c5c2d"]]);export{Z as default};
