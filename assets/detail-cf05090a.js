import{_ as v,aA as h,b6 as I,r as m,m as N,b9 as b,b as A,c as E,i as w,f as u,g as a,w as l,a as t,F as y,X as i,Y as S,Z as x,$ as _,A as p,a0 as d,W as P,K as k,L as D,ba as O}from"./index-8b2ad4e7.js";import"./AvatarCropper.vue_vue_type_style_index_0_scoped_9728916b_lang-df7f384b.js";const U=r=>(k("data-v-f91f7406"),r=r(),D(),r),W=U(()=>u("h3",{class:"title"},"配置信息",-1)),X={class:"view-box"},C={class:"el-container container"},G={class:"el-main",style:{"padding-right":"20px"}},K={__name:"detail",setup(r){const c=h();I(),m(!1);const e=N({avatar:"",nickname:"",mobile:"",email:"",gender:"0",motto:"0",birthday:m(),loading:!1});b().then(({data:n})=>{e.nickname=n.nickname.toString(),e.mobile=n.mobile.toString(),e.email=n.email.toString(),e.gender=n.gender.toString(),e.motto=n.motto.toString(),e.avatar=n.avatar,n.birthday&&(e.birthday=m(n.birthday))});const g=()=>{if(!e.nickname.trim())return window.$message.warning("昵称不能为空");e.loading=!0;const n=O({nickname:e.nickname.trim(),avatar:e.avatar,motto:e.motto,gender:parseInt(e.gender),birthday:e.birthday});n.then(()=>{window.$message.success("信息保存成功"),c.loadSetting()}),n.catch(()=>{window.$message.warning("信息保存失败")}),n.finally(()=>{e.loading=!1})};return(n,o)=>{const f=A("n-button");return E(),w(y,null,[W,u("div",X,[u("section",C,[u("main",G,[a(t(P),{ref:"formRef","label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:"medium",style:{"max-width":"500px","margin-top":"25px"}},{default:l(()=>[a(t(i),{label:"自动问答："},{default:l(()=>[a(t(S),{value:e.gender,"onUpdate:value":o[0]||(o[0]=s=>e.gender=s),name:"gender"},{default:l(()=>[a(t(x),null,{default:l(()=>[a(t(_),{key:"1",value:"1"},{default:l(()=>[p(" 开启 ")]),_:1}),a(t(_),{key:"0",value:"0"},{default:l(()=>[p(" 关闭 ")]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),a(t(i),{label:"Token："},{default:l(()=>[a(t(d),{placeholder:"请输入微信对话平台token",value:e.WXOPENAI_TOKEN,"onUpdate:value":o[1]||(o[1]=s=>e.WXOPENAI_TOKEN=s),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),a(t(i),{label:"EncodingAESKey："},{default:l(()=>[a(t(d),{placeholder:"请输入微信对话平台密钥",value:e.WXOPENAI_ENCODINGAESKEY,"onUpdate:value":o[2]||(o[2]=s=>e.WXOPENAI_ENCODINGAESKEY=s),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),a(t(i),{label:"APPID"},{default:l(()=>[a(t(d),{placeholder:"请输入微信对话平台APPID",value:e.WXOPENAI_APPID,"onUpdate:value":o[3]||(o[3]=s=>e.WXOPENAI_APPID=s),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),a(t(i),{label:"管理员ID"},{default:l(()=>[a(t(d),{placeholder:"请输入微信对话平台管理员ID",value:e.WXOPENAI_MANAGERID,"onUpdate:value":o[4]||(o[4]=s=>e.WXOPENAI_MANAGERID=s),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),a(t(i),null,{default:l(()=>[a(f,{type:"primary",onClick:g,loading:e.loading,style:{"margin-left":"94px"}},{default:l(()=>[p(" 保存修改 ")]),_:1},8,["loading"])]),_:1})]),_:1},512)])])])],64)}}},T=v(K,[["__scopeId","data-v-f91f7406"]]);export{T as default};
