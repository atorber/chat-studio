import{_ as f,aA as b,b6 as h,r as d,m as v,b9 as y,b as w,c as k,i as S,f as l,g as t,w as n,a as o,F as x,X as c,Y as N,Z as I,$ as u,A as m,a0 as U,W as C,K as F,L as R,ba as $}from"./index-8b2ad4e7.js";import"./AvatarCropper.vue_vue_type_style_index_0_scoped_9728916b_lang-df7f384b.js";const B=s=>(F("data-v-c3aa1a2b"),s=s(),R(),s),D=B(()=>l("h3",{class:"title"},"配置信息",-1)),V={class:"view-box"},A={class:"el-container container"},G={class:"el-main",style:{"padding-right":"20px"}},q={__name:"detail",setup(s){const _=b();h(),d(!1);const e=v({avatar:"",nickname:"",mobile:"",email:"",gender:"0",motto:"0",birthday:d(),loading:!1});y().then(({data:a})=>{e.nickname=a.nickname.toString(),e.mobile=a.mobile.toString(),e.email=a.email.toString(),e.gender=a.gender.toString(),e.motto=a.motto.toString(),e.avatar=a.avatar,a.birthday&&(e.birthday=d(a.birthday))});const p=()=>{if(!e.nickname.trim())return window.$message.warning("昵称不能为空");e.loading=!0;const a=$({nickname:e.nickname.trim(),avatar:e.avatar,motto:e.motto,gender:parseInt(e.gender),birthday:e.birthday});a.then(()=>{window.$message.success("信息保存成功"),_.loadSetting()}),a.catch(()=>{window.$message.warning("信息保存失败")}),a.finally(()=>{e.loading=!1})};return(a,i)=>{const g=w("n-button");return k(),S(x,null,[D,l("div",V,[l("section",A,[l("main",G,[t(o(C),{ref:"formRef","label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:"medium",style:{"max-width":"500px","margin-top":"25px"}},{default:n(()=>[t(o(c),{label:"云托管："},{default:n(()=>[t(o(N),{value:e.gender,"onUpdate:value":i[0]||(i[0]=r=>e.gender=r),name:"gender"},{default:n(()=>[t(o(I),null,{default:n(()=>[t(o(u),{key:"1",value:"1"},{default:n(()=>[m(" 开启 ")]),_:1}),t(o(u),{key:"0",value:"0"},{default:n(()=>[m(" 关闭 ")]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),t(o(c),{label:"密钥："},{default:n(()=>[t(o(U),{placeholder:"请输入群管理秘书密钥",value:e.nickname,"onUpdate:value":i[1]||(i[1]=r=>e.nickname=r),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),t(o(c),null,{default:n(()=>[t(g,{type:"primary",onClick:p,loading:e.loading,style:{"margin-left":"94px"}},{default:n(()=>[m(" 保存修改 ")]),_:1},8,["loading"])]),_:1})]),_:1},512)])])])],64)}}},K=f(q,[["__scopeId","data-v-c3aa1a2b"]]);export{K as default};
