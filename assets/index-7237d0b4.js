import{T as B,u as I,B as q}from"./useForm-ee8571b5.js";import{b5 as $,d as O,b6 as A,r as c,m as h,V as E,b as i,c as G,i as L,g as l,w as o,a as n,A as p,W as M,X as f,b7 as W,b8 as j,F as J,_ as K}from"./index-8e0b9476.js";import{P as X}from"./PageTitle-51d0b4d1.js";import{P as z}from"./PlusOutlined-a07f7215.js";import"./vuedraggable.umd-8e0bfff1.js";import"./SettingOutlined-c5ca1532.js";const H=u=>$("/api/v1/notice/list",u),Q=[{title:"内容",key:"desc",width:300},{title:"周期",key:"cycle",width:100},{title:"状态",key:"state",width:100},{title:"同步状态",key:"syncStatus",width:100},{title:"更新时间",key:"lastOperationTime",width:160,render(u){return new Date(u.lastOperationTime).toLocaleString()}}],Y=O({__name:"index",setup(u){const w={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},k=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],y=A(),b=c(null),g=c(),r=c(!1),m=c(!1),s=h({name:"",address:"",date:null}),C=h({width:220,title:"操作",key:"action",fixed:"right",render(e){return E(B,{style:"button",actions:[{label:"删除",onClick:D.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:U.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:t=>{window.$message.info(`您点击了，${t} 按钮`)}})}}),[Z,{getFieldsValue:P}]=I({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:k});function N(){r.value=!0}const x=async e=>{const{data:t}=await H({...P(),...e});return console.log("data",JSON.stringify(t)),t};function T(e){console.log(e)}function _(){g.value.reload()}function S(e){e.preventDefault(),m.value=!0,b.value.validate(t=>{t?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{r.value=!1,_()})),m.value=!1})}function U(e){console.log("点击了编辑",e),y.push({name:"basic-info",params:{id:e.id}})}function D(e){console.log("点击了删除",e),window.$message.info("点击了删除")}return(e,t)=>{const R=i("n-icon"),d=i("n-button"),v=i("n-input"),V=i("n-space"),F=i("n-modal");return G(),L(J,null,[l(X,{title:"定时提醒"}),l(n(j),{bordered:!1,class:"proCard"},{default:o(()=>[l(n(q),{columns:n(Q),request:x,"row-key":a=>a.id,ref_key:"actionRef",ref:g,actionColumn:C,"onUpdate:checkedRowKeys":T,"scroll-x":1090},{tableTitle:o(()=>[l(d,{type:"primary",onClick:N},{icon:o(()=>[l(R,null,{default:o(()=>[l(n(z))]),_:1})]),default:o(()=>[p(" 新建 ")]),_:1})]),toolbar:o(()=>[l(d,{type:"primary",onClick:_},{default:o(()=>[p("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),l(F,{show:r.value,"onUpdate:show":t[4]||(t[4]=a=>r.value=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:o(()=>[l(V,null,{default:o(()=>[l(d,{onClick:t[3]||(t[3]=()=>r.value=!1)},{default:o(()=>[p("取消")]),_:1}),l(d,{type:"info",loading:m.value,onClick:S},{default:o(()=>[p("确定")]),_:1},8,["loading"])]),_:1})]),default:o(()=>[l(n(M),{model:s,rules:w,ref_key:"formRef",ref:b,"label-placement":"left","label-width":80,class:"py-4"},{default:o(()=>[l(n(f),{label:"名称",path:"name"},{default:o(()=>[l(v,{placeholder:"请输入名称",value:s.name,"onUpdate:value":t[0]||(t[0]=a=>s.name=a)},null,8,["value"])]),_:1}),l(n(f),{label:"地址",path:"address"},{default:o(()=>[l(v,{type:"textarea",placeholder:"请输入地址",value:s.address,"onUpdate:value":t[1]||(t[1]=a=>s.address=a)},null,8,["value"])]),_:1}),l(n(f),{label:"日期",path:"date"},{default:o(()=>[l(n(W),{type:"datetime",placeholder:"请选择日期",value:s.date,"onUpdate:value":t[2]||(t[2]=a=>s.date=a)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});const se=K(Y,[["__scopeId","data-v-93da50c7"]]);export{se as default};
