import{_ as M}from"./no-data-bde0995b.js";import{d as O,bx as q,b4 as z,aX as A,q as m,ae as E,s as N,o as F,a4 as _,a5 as l,a6 as v,a7 as i,a1 as t,aA as s,a8 as n,al as k,aa as w,aB as R,$ as G,ah as X,ai as B,ad as H,aN as J,at as K,au as Q,a2 as W}from"./index-4fb8a37c.js";import{a as Y,G as Z,N as ee}from"./GroupPanel-8c5a94ab.js";import{G as ae}from"./GroupCard-ad9f46e9.js";import{a as S,N as oe}from"./Tabs-522874b3.js";import{S as te}from"./Search-19725e91.js";import{P as ne}from"./Plus-9e72049f.js";import"./Scrollbar-f0964729.js";import"./Checkbox-6259322c.js";import"./FormItem-d7bf766f.js";import"./AvatarCropper-c5ededdb.js";import"./AvatarCropper.vue_vue_type_style_index_0_scoped_9728916b_lang-906011c2.js";import"./Close-08d73b6e.js";import"./UploadOne-2638d038.js";import"./CheckSmall-ba2ea70b.js";import"./Switch-85526ef4.js";const se=d=>(K("data-v-28488e65"),d=d(),Q(),d),re={id:"drawer-target",class:"el-container is-vertical height100"},le={class:"el-header me-view-header bdr-b"},ue={key:0,class:"el-main flex-center"},ie=se(()=>i("img",{src:M,alt:""},null,-1)),de={key:1,class:"el-main me-scrollbar me-scrollbar-thumb pd-10"},pe={class:"cards"},ce=O({__name:"groups",setup(d){const b=q(),$=z(),f=A(),p=m(!1),h=m(""),u=m([]),r=E({isShow:!1,id:0}),c=m("all"),g=$.uid,C=N(()=>u.value.filter(o=>o.creator_id==g)),x=N(()=>u.value.filter(o=>c.value=="create"&&o.creator_id!=g||c.value=="join"&&o.creator_id==g?!1:o.group_name.toLowerCase().indexOf(h.value.toLowerCase())!=-1)),T=()=>{J().then(o=>{o.code==200&&(u.value=o.data.items||[])})},L=o=>{r.isShow=!0,r.id=o.id},I=o=>{f.toTalk(2,o.id,b)},U=()=>{p.value=!1,T(),f.loadTalkList()};return F(()=>{T()}),(o,a)=>{const y=_("n-icon"),V=_("n-input"),D=_("n-button"),P=_("n-empty");return l(),v(G,null,[i("section",re,[i("header",le,[i("div",null,[t(n(oe),{value:c.value,"onUpdate:value":a[0]||(a[0]=e=>c.value=e)},{default:s(()=>[t(n(S),{name:"all"},{default:s(()=>[k(" 全部群聊("+w(u.value.length)+") ",1)]),_:1}),t(n(S),{name:"create"},{default:s(()=>[k(" 我创建的("+w(C.value.length)+") ",1)]),_:1}),t(n(S),{name:"join"},{default:s(()=>[k(" 我加入的("+w(u.value.length-C.value.length)+") ",1)]),_:1})]),_:1},8,["value"])]),t(n(R),null,{default:s(()=>[t(V,{value:h.value,"onUpdate:value":a[1]||(a[1]=e=>h.value=e),valueModifiers:{trim:!0},placeholder:"搜索",clearable:"",style:{"max-width":"200px"},round:""},{prefix:s(()=>[t(y,{component:n(te)},null,8,["component"])]),_:1},8,["value"]),t(D,{circle:"",onClick:a[2]||(a[2]=e=>p.value=!0)},{icon:s(()=>[t(y,{component:n(ne)},null,8,["component"])]),_:1})]),_:1})]),x.value.length==0?(l(),v("main",ue,[t(P,{size:"200",description:"暂无相关数据"},{icon:s(()=>[ie]),_:1})])):(l(),v("main",de,[i("div",pe,[(l(!0),v(G,null,X(x.value,e=>(l(),B(ae,{key:e.id,avatar:e.avatar,username:e.group_name,gender:e.gender,motto:e.profile,flag:"查看","is-member":!0,onClick:j=>L(e),onTalk:j=>I(e)},null,8,["avatar","username","gender","motto","onClick","onTalk"]))),128))])]))]),p.value?(l(),B(Y,{key:0,onClose:a[3]||(a[3]=e=>p.value=!1),onOnSubmit:U})):H("",!0),t(n(ee),{show:r.isShow,"onUpdate:show":a[6]||(a[6]=e=>r.isShow=e),width:400,placement:"right","trap-focus":!1,"block-scroll":!1,to:"#drawer-target","show-mask":"transparent"},{default:s(()=>[t(Z,{gid:r.id,onClose:a[4]||(a[4]=e=>r.isShow=!1),onToTalk:a[5]||(a[5]=e=>n(f).toTalk(2,r.id,n(b)))},null,8,["gid"])]),_:1},8,["show"])],64)}}});const Be=W(ce,[["__scopeId","data-v-28488e65"]]);export{Be as default};
