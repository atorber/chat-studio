import{f as G,l as _e,g as W,j as O,d as de,P as fe,n as he,cJ as Je,s as U,D as Te,h as F,$ as Y,q as B,b as ge,cK as Be,c2 as Qe,bX as et,w as Ie,a as tt,bS as nt,cL as ot,B as ue,cM as st,cN as it,cO as at,ab as V,ac as q,cP as rt,T as Ne,_ as lt,G as dt,k as I,cQ as me,cR as ct,bN as ut,bM as ke,t as $e,cS as xe,cT as ht,cU as mt,cV as vt,cW as pt,S as ne,cX as _t,a0 as ft,a1 as n,a2 as te,ae as se,a4 as D,aL as gt,a5 as y,ai as X,aA as r,a7 as t,al as P,a6 as N,a8 as v,aC as ee,ah as oe,aa as R,ad as Q,aD as be,cY as bt,cZ as wt,c_ as yt,o as kt,c$ as we,d0 as $t,at as ae,au as re,b4 as Me,aB as ie,an as xt,ap as Ct,d1 as Re,d2 as Ce,x as St,d3 as zt,d4 as Tt,d5 as Bt,d6 as It,I as De,b3 as Nt,d7 as Mt,a_ as Rt,cI as Dt,cH as Et,d8 as Pt,d9 as Ut,da as Lt,a9 as At,aj as Ft,bo as Ht,X as Ot,be as jt,db as Gt}from"./index-4fb8a37c.js";import{_ as ve}from"./no-data-bde0995b.js";import{N as Se}from"./Scrollbar-f0964729.js";import{N as Ee}from"./Checkbox-6259322c.js";import{S as ce}from"./Search-19725e91.js";import{N as pe,a as K}from"./FormItem-d7bf766f.js";import{I as Wt,P as ye}from"./Plus-9e72049f.js";import{A as Vt,R as Xt}from"./AvatarCropper-c5ededdb.js";import{C as Yt,N as Pe}from"./CheckSmall-ba2ea70b.js";import{C as Ue}from"./Close-08d73b6e.js";import{N as ze}from"./Switch-85526ef4.js";const qt=G("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[_e("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[_e("no-title",`
 display: flex;
 align-items: center;
 `)]),W("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),O("title-position-left",[W("line",[O("left",{width:"28px"})])]),O("title-position-right",[W("line",[O("right",{width:"28px"})])]),O("dashed",[W("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),O("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),W("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),_e("dashed",[W("line",{backgroundColor:"var(--n-color)"})]),O("dashed",[W("line",{borderColor:"var(--n-color)"})]),O("vertical",{backgroundColor:"var(--n-color)"})]),Kt=Object.assign(Object.assign({},he.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Zt=de({name:"Divider",props:Kt,setup(e){const{mergedClsPrefixRef:l,inlineThemeDisabled:s}=fe(e),m=he("Divider","-divider",qt,Je,e,l),u=U(()=>{const{common:{cubicBezierEaseInOut:d},self:{color:_,textColor:b,fontWeight:i}}=m.value;return{"--n-bezier":d,"--n-color":_,"--n-text-color":b,"--n-font-weight":i}}),a=s?Te("divider",void 0,u,e):void 0;return{mergedClsPrefix:l,cssVars:s?void 0:u,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var e;const{$slots:l,titlePlacement:s,vertical:m,dashed:u,cssVars:a,mergedClsPrefix:d}=this;return(e=this.onRender)===null||e===void 0||e.call(this),F("div",{role:"separator",class:[`${d}-divider`,this.themeClass,{[`${d}-divider--vertical`]:m,[`${d}-divider--no-title`]:!l.default,[`${d}-divider--dashed`]:u,[`${d}-divider--title-position-${s}`]:l.default&&s}],style:a},m?null:F("div",{class:`${d}-divider__line ${d}-divider__line--left`}),!m&&l.default?F(Y,null,F("div",{class:`${d}-divider__title`},this.$slots),F("div",{class:`${d}-divider__line ${d}-divider__line--right`})):null)}}),Jt=de({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const l=B(!!e.show),s=B(null),m=ge(Be);let u=0,a="",d=null;const _=B(!1),b=B(!1),i=U(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:k,mergedRtlRef:p}=fe(e),z=Qe("Drawer",p,k),M=g=>{b.value=!0,u=i.value?g.clientY:g.clientX,a=document.body.style.cursor,document.body.style.cursor=i.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",f),document.body.addEventListener("mouseleave",T),document.body.addEventListener("mouseup",h)},w=()=>{d!==null&&(window.clearTimeout(d),d=null),b.value?_.value=!0:d=window.setTimeout(()=>{_.value=!0},300)},L=()=>{d!==null&&(window.clearTimeout(d),d=null),_.value=!1},{doUpdateHeight:S,doUpdateWidth:H}=m,C=g=>{const{maxWidth:x}=e;if(x&&g>x)return x;const{minWidth:A}=e;return A&&g<A?A:g},$=g=>{const{maxHeight:x}=e;if(x&&g>x)return x;const{minHeight:A}=e;return A&&g<A?A:g},f=g=>{var x,A;if(b.value)if(i.value){let j=((x=s.value)===null||x===void 0?void 0:x.offsetHeight)||0;const J=u-g.clientY;j+=e.placement==="bottom"?J:-J,j=$(j),S(j),u=g.clientY}else{let j=((A=s.value)===null||A===void 0?void 0:A.offsetWidth)||0;const J=u-g.clientX;j+=e.placement==="right"?J:-J,j=C(j),H(j),u=g.clientX}},h=()=>{b.value&&(u=0,b.value=!1,document.body.style.cursor=a,document.body.removeEventListener("mousemove",f),document.body.removeEventListener("mouseup",h),document.body.removeEventListener("mouseleave",T))},T=h;et(()=>{e.show&&(l.value=!0)}),Ie(()=>e.show,g=>{g||h()}),tt(()=>{h()});const o=U(()=>{const{show:g}=e,x=[[q,g]];return e.showMask||x.push([nt,e.onClickoutside,void 0,{capture:!0}]),x});function c(){var g;l.value=!1,(g=e.onAfterLeave)===null||g===void 0||g.call(e)}return ot(U(()=>e.blockScroll&&l.value)),ue(st,s),ue(it,null),ue(at,null),{bodyRef:s,rtlEnabled:z,mergedClsPrefix:m.mergedClsPrefixRef,isMounted:m.isMountedRef,mergedTheme:m.mergedThemeRef,displayed:l,transitionName:U(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:c,bodyDirectives:o,handleMousedownResizeTrigger:M,handleMouseenterResizeTrigger:w,handleMouseleaveResizeTrigger:L,isDragging:b,isHoverOnResizeTrigger:_}},render(){const{$slots:e,mergedClsPrefix:l}=this;return this.displayDirective==="show"||this.displayed||this.show?V(F("div",{role:"none"},F(rt,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>F(Ne,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>V(F("div",lt(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${l}-drawer`,this.rtlEnabled&&`${l}-drawer--rtl`,`${l}-drawer--${this.placement}-placement`,this.isDragging&&`${l}-drawer--unselectable`,this.nativeScrollbar&&`${l}-drawer--native-scrollbar`]}),[this.resizable?F("div",{class:[`${l}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${l}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?F("div",{class:`${l}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):F(dt,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${l}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[q,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Qt,cubicBezierEaseOut:en}=me;function tn({duration:e="0.3s",leaveDuration:l="0.2s",name:s="slide-in-from-right"}={}){return[I(`&.${s}-transition-leave-active`,{transition:`transform ${l} ${Qt}`}),I(`&.${s}-transition-enter-active`,{transition:`transform ${e} ${en}`}),I(`&.${s}-transition-enter-to`,{transform:"translateX(0)"}),I(`&.${s}-transition-enter-from`,{transform:"translateX(100%)"}),I(`&.${s}-transition-leave-from`,{transform:"translateX(0)"}),I(`&.${s}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:nn,cubicBezierEaseOut:on}=me;function sn({duration:e="0.3s",leaveDuration:l="0.2s",name:s="slide-in-from-left"}={}){return[I(`&.${s}-transition-leave-active`,{transition:`transform ${l} ${nn}`}),I(`&.${s}-transition-enter-active`,{transition:`transform ${e} ${on}`}),I(`&.${s}-transition-enter-to`,{transform:"translateX(0)"}),I(`&.${s}-transition-enter-from`,{transform:"translateX(-100%)"}),I(`&.${s}-transition-leave-from`,{transform:"translateX(0)"}),I(`&.${s}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:an,cubicBezierEaseOut:rn}=me;function ln({duration:e="0.3s",leaveDuration:l="0.2s",name:s="slide-in-from-top"}={}){return[I(`&.${s}-transition-leave-active`,{transition:`transform ${l} ${an}`}),I(`&.${s}-transition-enter-active`,{transition:`transform ${e} ${rn}`}),I(`&.${s}-transition-enter-to`,{transform:"translateY(0)"}),I(`&.${s}-transition-enter-from`,{transform:"translateY(-100%)"}),I(`&.${s}-transition-leave-from`,{transform:"translateY(0)"}),I(`&.${s}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:dn,cubicBezierEaseOut:cn}=me;function un({duration:e="0.3s",leaveDuration:l="0.2s",name:s="slide-in-from-bottom"}={}){return[I(`&.${s}-transition-leave-active`,{transition:`transform ${l} ${dn}`}),I(`&.${s}-transition-enter-active`,{transition:`transform ${e} ${cn}`}),I(`&.${s}-transition-enter-to`,{transform:"translateY(0)"}),I(`&.${s}-transition-enter-from`,{transform:"translateY(100%)"}),I(`&.${s}-transition-leave-from`,{transform:"translateY(0)"}),I(`&.${s}-transition-leave-to`,{transform:"translateY(100%)"})]}const hn=I([G("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[tn(),sn(),ln(),un(),O("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),O("native-scrollbar",[G("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),W("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[O("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),G("drawer-content-wrapper",`
 box-sizing: border-box;
 `),G("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[O("native-scrollbar",[G("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),G("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),G("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),G("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[W("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),G("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),O("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[W("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),O("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[W("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),O("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[W("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),O("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[W("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),I("body",[I(">",[G("drawer-container",{position:"fixed"})])]),G("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[I("> *",{pointerEvents:"all"})]),G("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[O("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),ct({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),mn=Object.assign(Object.assign({},he.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),ti=de({name:"Drawer",inheritAttrs:!1,props:mn,setup(e){const{mergedClsPrefixRef:l,namespaceRef:s,inlineThemeDisabled:m}=fe(e),u=ut(),a=he("Drawer","-drawer",hn,pt,e,l),d=B(e.defaultWidth),_=B(e.defaultHeight),b=ke($e(e,"width"),d),i=ke($e(e,"height"),_),k=U(()=>{const{placement:h}=e;return h==="top"||h==="bottom"?"":xe(b.value)}),p=U(()=>{const{placement:h}=e;return h==="left"||h==="right"?"":xe(i.value)}),z=h=>{const{onUpdateWidth:T,"onUpdate:width":o}=e;T&&ne(T,h),o&&ne(o,h),d.value=h},M=h=>{const{onUpdateHeight:T,"onUpdate:width":o}=e;T&&ne(T,h),o&&ne(o,h),_.value=h},w=U(()=>[{width:k.value,height:p.value},e.drawerStyle||""]);function L(h){const{onMaskClick:T,maskClosable:o}=e;o&&C(!1),T&&T(h)}const S=ht();function H(h){var T;(T=e.onEsc)===null||T===void 0||T.call(e),e.show&&e.closeOnEsc&&_t(h)&&!S.value&&C(!1)}function C(h){const{onHide:T,onUpdateShow:o,"onUpdate:show":c}=e;o&&ne(o,h),c&&ne(c,h),T&&!h&&ne(T,h)}ue(Be,{isMountedRef:u,mergedThemeRef:a,mergedClsPrefixRef:l,doUpdateShow:C,doUpdateHeight:M,doUpdateWidth:z});const $=U(()=>{const{common:{cubicBezierEaseInOut:h,cubicBezierEaseIn:T,cubicBezierEaseOut:o},self:{color:c,textColor:g,boxShadow:x,lineHeight:A,headerPadding:j,footerPadding:J,bodyPadding:E,titleFontSize:le,titleTextColor:Ae,titleFontWeight:Fe,headerBorderBottom:He,footerBorderTop:Oe,closeIconColor:je,closeIconColorHover:Ge,closeIconColorPressed:We,closeColorHover:Ve,closeColorPressed:Xe,closeIconSize:Ye,closeSize:qe,closeBorderRadius:Ke,resizableTriggerColorHover:Ze}}=a.value;return{"--n-line-height":A,"--n-color":c,"--n-text-color":g,"--n-box-shadow":x,"--n-bezier":h,"--n-bezier-out":o,"--n-bezier-in":T,"--n-header-padding":j,"--n-body-padding":E,"--n-footer-padding":J,"--n-title-text-color":Ae,"--n-title-font-size":le,"--n-title-font-weight":Fe,"--n-header-border-bottom":He,"--n-footer-border-top":Oe,"--n-close-icon-color":je,"--n-close-icon-color-hover":Ge,"--n-close-icon-color-pressed":We,"--n-close-size":qe,"--n-close-color-hover":Ve,"--n-close-color-pressed":Xe,"--n-close-icon-size":Ye,"--n-close-border-radius":Ke,"--n-resize-trigger-color-hover":Ze}}),f=m?Te("drawer",void 0,$,e):void 0;return{mergedClsPrefix:l,namespace:s,mergedBodyStyle:w,handleMaskClick:L,handleEsc:H,mergedTheme:a,cssVars:m?void 0:$,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,isMounted:u}},render(){const{mergedClsPrefix:e}=this;return F(vt,{to:this.to,show:this.show},{default:()=>{var l;return(l=this.onRender)===null||l===void 0||l.call(this),V(F("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?F(Ne,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?F("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,F(Jt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[mt,{zIndex:this.zIndex,enabled:this.show}]])}})}}),vn=ft("comment",!0,function(e){return n("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[n("path",{d:"M44 6H4V36H13V41L23 36H44V6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),n("path",{d:"M14 19.5V22.5",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),n("path",{d:"M24 19.5V22.5",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),n("path",{d:"M34 19.5V22.5",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const pn={class:"el-container launch-box"},_n={class:"el-aside bdr-r",style:{width:"280px"}},fn={class:"el-container is-vertical height100"},gn={class:"el-header",style:{height:"50px",padding:"16px"}},bn={class:"el-main o-hidden"},wn={class:"friend-items"},yn=["onClick"],kn={class:"avatar"},$n={class:"content"},xn={class:"text-ellipsis"},Cn={class:"checkbox"},Sn={class:"el-main"},zn={class:"el-container is-vertical height100"},Tn={key:0,class:"el-header",style:{height:"90px",padding:"10px 15px"}},Bn={class:"el-header",style:{height:"50px"}},In={class:"el-main o-hidden"},Nn={class:"friend-items"},Mn=["onClick"],Rn={class:"avatar"},Dn={class:"content"},En={class:"text-ellipsis"},Pn={class:"checkbox"},Un={class:"footer"},Ln={__name:"GroupLaunch",props:{gid:{type:Number,default:0}},emits:["close","on-submit"],setup(e,{emit:l}){const s=l,m=e,u=B([]),a=se({keywords:"",name:""}),d=B(!0),_=B(!0),b=U(()=>a.keywords?u.value.filter(C=>C.nickname.match(a.keywords)!=null):u.value),i=U(()=>u.value.filter(C=>C.checked)),k=U(()=>m.gid>0?!i.value.length:!(a.name.trim()&&i.value.length)),p=()=>{a.name="",u.value.forEach(C=>{C.checked=!1})},z=()=>{bt({group_id:m.gid}).then(C=>{if(C.code==200&&C.data){let $=C.data||[];u.value=$.map(f=>Object.assign(f,{nickname:f.friend_remark?f.friend_remark:f.nickname,checked:!1}))}}).finally(()=>{d.value=!1})},M=()=>{s("close")},w=C=>{let $=u.value.find(f=>f.id===C.id);$&&($.checked=!$.checked)},L=C=>{wt({avatar:"",name:a.name,profile:"",ids:C.join(",")}).then($=>{$.code==200&&(p(),s("on-submit",$.data),window.$message.success("创建成功"),_.value=!1)})},S=C=>{yt({group_id:m.gid,ids:C.join(",")}).then($=>{$.code==200&&(s("on-invite"),window.$message.success("邀请成功"),_.value=!1)})},H=()=>{let C=i.value.map($=>$.id);m.gid==0?L(C):S(C)};return z(),(C,$)=>{const f=D("n-icon"),h=D("im-avatar"),T=D("n-button"),o=gt("loading");return y(),X(v(be),{show:_.value,"onUpdate:show":$[3]||($[3]=c=>_.value=c),preset:"card",title:e.gid==0?"创建群聊":"邀请新的联系人",class:"modal-radius",style:{"max-width":"650px",height:"550px"},"on-after-leave":M,segmented:{content:!0,footer:!0},"content-style":{padding:0}},{footer:r(()=>[t("div",Un,[n(T,{type:"tertiary",onClick:$[2]||($[2]=c=>_.value=!1)},{default:r(()=>[P(" 取消 ")]),_:1}),n(T,{type:"primary",class:"mt-l15",onClick:H,disabled:k.value},{default:r(()=>[P(" 提交 ")]),_:1},8,["disabled"])])]),default:r(()=>[t("section",pn,[V((y(),N("aside",_n,[t("section",fn,[t("header",gn,[n(v(ee),{placeholder:"搜索",value:a.keywords,"onUpdate:value":$[0]||($[0]=c=>a.keywords=c),clearable:""},{prefix:r(()=>[n(f,{component:v(ce)},null,8,["component"])]),_:1},8,["value"])]),t("main",bn,[n(v(Se),null,{default:r(()=>[t("div",wn,[(y(!0),N(Y,null,oe(b.value,c=>(y(),N("div",{class:"friend-item pointer",key:c.id,onClick:g=>w(c)},[t("div",kn,[n(h,{class:"pointer",src:c.avatar,size:25,username:c.nickname},null,8,["src","username"])]),t("div",$n,[t("span",xn,R(c.nickname),1)]),t("div",Cn,[n(v(Ee),{size:"small",checked:c.checked,"onUpdate:checked":g=>c.checked=!c.checked},null,8,["checked","onUpdate:checked"])])],8,yn))),128))])]),_:1})])])])),[[o,d.value]]),t("main",Sn,[t("section",zn,[m.gid===0?(y(),N("header",Tn,[n(v(pe),null,{default:r(()=>[n(v(K),{label:"群聊名称",required:!0},{default:r(()=>[n(v(ee),{value:a.name,"onUpdate:value":$[1]||($[1]=c=>a.name=c),placeholder:"必填",maxlength:"20","show-count":""},null,8,["value"])]),_:1})]),_:1})])):Q("",!0),t("header",Bn,[n(v(Zt),{"title-placement":"left",style:{"margin-top":"15px","margin-bottom":"0","font-weight":"300"}},{default:r(()=>[P(" 邀请成员("+R(i.value.length)+") ",1)]),_:1})]),t("main",In,[n(v(Se),null,{default:r(()=>[t("div",Nn,[(y(!0),N(Y,null,oe(i.value,c=>(y(),N("div",{class:"friend-item pointer",key:c.id,onClick:g=>w(c)},[t("div",Rn,[n(h,{class:"pointer",src:c.avatar,size:25,username:c.nickname},null,8,["src","username"])]),t("div",Dn,[t("span",En,R(c.nickname),1)]),t("div",Pn,[n(f,{size:16,component:v(Wt)},null,8,["component"])])],8,Mn))),128))])]),_:1})])])])])]),_:1},8,["show","title"])}}},Le=te(Ln,[["__scopeId","data-v-fb68e50a"]]);const An=e=>(ae("data-v-1c4323f9"),e=e(),re(),e),Fn={class:"section el-container is-vertical height100"},Hn=An(()=>t("header",{class:"el-header header bdr-b"},[t("p",null,"基础信息")],-1)),On={class:"el-main main"},jn={__name:"DetailTab",props:{id:{type:Number,default:0}},setup(e){const l=e,s=B(!1),m=se({name:"",avatar:"",profile:""}),u=_=>{s.value=!1,m.avatar=_,d()},a=()=>{we({group_id:l.id}).then(_=>{_.code==200&&(m.name=_.data.group_name,m.avatar=_.data.avatar,m.profile=_.data.profile)})};function d(){if(m.name.trim()=="")return window.$message.info("群名称不能为空");$t({group_id:l.id,group_name:m.name,avatar:m.avatar,profile:m.profile}).then(_=>{_.code==200?window.$message.success("群信息更新成功"):window.$message.error(_.message)})}return kt(()=>{a()}),(_,b)=>{const i=D("n-avatar"),k=D("n-button");return y(),N(Y,null,[t("section",Fn,[Hn,t("main",On,[n(v(pe),{ref:"formRef",style:{minWinth:"350px",maxWidth:"350px"}},{default:r(()=>[n(v(K),{label:"群头像",path:"name"},{default:r(()=>[m.avatar?(y(),X(i,{key:0,size:60,src:m.avatar},null,8,["src"])):(y(),X(i,{key:1,size:60,style:{color:"white",backgroundColor:"#508afe",fontSize:"18px"}},{default:r(()=>[P(R(m.name.substring(0,1)),1)]),_:1})),n(k,{type:"primary",size:"tiny",style:{"margin-left":"20px"},dashed:"",onClick:b[0]||(b[0]=p=>s.value=!0)},{default:r(()=>[P(" 上传头像 ")]),_:1})]),_:1}),n(v(K),{label:"群名称",required:"",path:"name"},{default:r(()=>[n(v(ee),{placeholder:"必填",type:"text",value:m.name,"onUpdate:value":b[1]||(b[1]=p=>m.name=p)},null,8,["value"])]),_:1}),n(v(K),{label:"群简介",path:"profile"},{default:r(()=>[n(v(ee),{placeholder:"选填",type:"textarea",value:m.profile,"onUpdate:value":b[2]||(b[2]=p=>m.profile=p)},null,8,["value"])]),_:1}),n(v(K),{label:""},{default:r(()=>[n(k,{type:"primary",onClick:d},{default:r(()=>[P(" 保存信息 ")]),_:1})]),_:1})]),_:1},512)])]),s.value?(y(),X(Vt,{key:0,onClose:b[3]||(b[3]=p=>s.value=!1),onSuccess:u})):Q("",!0)],64)}}},Gn=te(jn,[["__scopeId","data-v-1c4323f9"]]),Wn=e=>(ae("data-v-1326702f"),e=e(),re(),e),Vn={class:"el-container is-vertical height100"},Xn={class:"el-header header bdr-b"},Yn={key:0,class:"el-main main flex-center"},qn=Wn(()=>t("img",{src:ve,alt:""},null,-1)),Kn={key:1,class:"el-main main me-scrollbar me-scrollbar-thumb"},Zn={class:"tool flex-center"},Jn=["onClick"],Qn=["onClick","onContextmenu"],eo={class:"item-title"},to={class:"nickname text-ellipsis"},no={class:"badge master"},oo={class:"badge leader"},so={class:"badge muted"},io={class:"item-text text-ellipsis"},ao={class:"el-footer footer bdr-t"},ro={class:"tips"},lo=de({__name:"MemberTab",props:{id:{type:Number,default:0}},setup(e){const l=e,s=ge("$user"),m=Me(),u=B(!1),a=B(""),d=B(!1),_=B([]),b=U(()=>_.value.filter(o=>o.is_delete)),i=U(()=>a.value.length?_.value.filter(o=>o.nickname.match(a.value)!=null||o.remark.match(a.value)!=null):_.value),k=U(()=>_.value.some(o=>o.user_id==m.uid&&o.leader==2)),p=se({options:[],show:!1,dropdownX:0,dropdownY:0,item:{}}),z=()=>{Re({group_id:l.id}).then(o=>{if(o.code==200){let c=o.data.items||[];c.forEach(g=>{g.is_delete=!1}),_.value=c}})},M=o=>{let c=`删除 [${o.nickname}] 群成员？`;window.$dialog.create({title:"温馨提示",content:c,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ce({group_id:l.id,members_ids:`${o.user_id}`}).then(g=>{g.code==200&&(z(),window.$message.success("删除成功"))})}})},w=()=>{b.value.length&&window.$dialog.create({title:"温馨提示",content:"批量删除群成员？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ce({group_id:l.id,members_ids:b.value.map(o=>o.user_id).join(",")}).then(o=>{o.code==200&&(d.value=!1,z(),window.$message.success("删除成功"))})}})},L=o=>{d.value==!0?o.leader<2&&(o.is_delete=!o.is_delete):s(o.user_id)},S=()=>{_.value.forEach(o=>{o.is_delete=!1}),d.value=!1},H=o=>{s(o.user_id)},C=o=>{let c=o.leader==0?`确定要给 [${o.nickname}] 分配管理员权限吗？`:`确定解除 [${o.nickname}] 管理员权限吗？`;window.$dialog.create({title:"温馨提示",content:c,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{zt({mode:o.leader==0?1:2,group_id:l.id,user_id:parseInt(o.user_id)}).then(g=>{g.code==200?(window.$message.success("操作成功"),z()):window.$message.error(g.message)})}})},$=o=>{window.$dialog.create({title:"温馨提示",content:`确定把群主权限转交给 [${o.nickname}] ？`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Tt({group_id:l.id,user_id:parseInt(o.user_id)}).then(c=>{c.code==200?(window.$message.success("操作成功"),z()):window.$message.error(c.message)})}})},f=o=>{let c=`确定要禁言 [${o.nickname}] 此用户吗？`;o.is_mute===1&&(c=`确定要解除 [${o.nickname}] 此用户的禁言吗？`),window.$dialog.create({title:"温馨提示",content:c,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Bt({mode:o.is_mute==0?1:2,group_id:l.id,user_id:parseInt(o.user_id)}).then(g=>{g.code==200?(window.$message.success("操作成功"),z()):window.$message.error(g.message)})}})},h=(o,c)=>{d.value==!0||c.leader==2||(p.show=!1,p.item=Object.assign({},c),p.options=[{label:"查看成员",key:"info"},{label:c.is_mute?"解除禁言":"禁止发言",key:"forbidden"},{label:"删除成员",key:"delete"},{label:"批量删除",key:"batch_delete"}],k.value&&(p.options.push({label:"转让群主",key:"transfer"}),c.leader==1?p.options.push({label:"管理权限(解除)",key:"assignment"}):c.leader==0&&p.options.push({label:"管理权限(分配)",key:"assignment"})),St(()=>{p.show=!0,p.dropdownX=o.clientX,p.dropdownY=o.clientY}),o.preventDefault())},T=o=>{const c={info:H,assignment:C,transfer:$,forbidden:f,delete:M,batch_delete:g=>{d.value=!0}};p.show=!1,c[o]&&c[o](p.item)};return z(),(o,c)=>{const g=D("n-icon"),x=D("n-input"),A=D("n-button"),j=D("n-empty"),J=D("im-avatar");return y(),N(Y,null,[t("section",Vn,[t("header",Xn,[t("p",null,"成员管理("+R(i.value.length)+")",1),t("div",null,[n(v(ie),null,{default:r(()=>[n(x,{placeholder:"搜索",value:a.value,"onUpdate:value":c[0]||(c[0]=E=>a.value=E),valueModifiers:{trim:!0},clearable:"",style:{width:"200px"},round:""},{prefix:r(()=>[n(g,{component:v(ce)},null,8,["component"])]),_:1},8,["value"]),n(A,{circle:"",onClick:c[1]||(c[1]=E=>u.value=!0)},{icon:r(()=>[n(g,{component:v(ye)},null,8,["component"])]),_:1})]),_:1})])]),i.value.length===0?(y(),N("main",Yn,[n(j,{size:"200",description:"暂无相关数据"},{icon:r(()=>[qn]),_:1})])):(y(),N("main",Kn,[(y(!0),N(Y,null,oe(i.value,E=>(y(),N("div",{class:"member-item",key:E.user_id},[V(t("div",Zn,[n(v(Ee),{disabled:E.leader===2,size:"small",checked:E.is_delete},null,8,["disabled","checked"])],512),[[q,d.value]]),t("div",{class:"avatar pointer",onClick:le=>H(E)},[n(J,{size:40,src:E.avatar,username:E.nickname},null,8,["src","username"])],8,Jn),t("div",{class:"content pointer o-hidden",onClick:le=>L(E),onContextmenu:xt(le=>h(le,E),["prevent"])},[t("div",eo,[t("p",to,[t("span",null,R(E.nickname||"未设置昵称"),1),V(t("span",null," ("+R(E.user_card)+")",513),[[q,E.user_card]])]),t("p",null,[V(t("span",no,"群主",512),[[q,E.leader==2]]),V(t("span",oo,"管理员",512),[[q,E.leader==1]]),V(t("span",so,"已禁言",512),[[q,E.is_mute==1]])])]),t("div",io,R(E.motto||"暂无简介"),1)],40,Qn)]))),128))])),V(t("footer",ao,[t("div",ro,"已选("+R(b.value.length)+")",1),t("div",null,[n(v(ie),null,{default:r(()=>[n(A,{type:"primary",ghost:"",size:"small",onClick:S},{default:r(()=>[P(" 取消 ")]),_:1}),n(A,{color:"red",size:"small",onClick:w},{default:r(()=>[P(" 批量删除 ")]),_:1})]),_:1})])],512),[[q,d.value]])]),n(v(Ct),{show:p.show,x:p.dropdownX,y:p.dropdownY,placement:"right",options:p.options,onSelect:T,onClickoutside:c[2]||(c[2]=()=>{p.show=!1,p.item={}})},null,8,["show","x","y","options"]),u.value?(y(),X(Le,{key:0,gid:e.id,onClose:c[3]||(c[3]=E=>u.value=!1),onOnInvite:z},null,8,["gid"])):Q("",!0)],64)}}});const co=te(lo,[["__scopeId","data-v-1326702f"]]),uo={style:{width:"100%","text-align":"right"}},ho={__name:"NoticeEditor",props:{id:{type:Number,default:0},gid:{type:Number,default:0},title:{type:String,default:""},content:{type:String,default:""}},emits:["close","success"],setup(e,{emit:l}){const s=l,m=e,u=B(m.id==0?"发布群公告":"编辑群公告"),a=B(),d=se({title:m.title,content:m.content}),_={title:{required:!0,trigger:["blur","input"],message:"标题不能为空！"},content:{required:!0,trigger:["blur","input"],message:"内容不能为空！"}},b=B(!0),i=B(!1),k=()=>{s("close")},p=()=>{i.value=!0;let M=It({notice_id:m.id,group_id:m.gid,title:d.title,content:d.content,is_top:0,is_confirm:0});M.then(w=>{w.code==200?(window.$message.success(w.message),s("success")):window.$message.warning(w.message)}),M.finally(()=>{i.value=!1})},z=M=>{M.preventDefault(),a.value.validate(w=>{!w&&p()})};return(M,w)=>{const L=D("n-button");return y(),X(v(be),{show:b.value,"onUpdate:show":w[2]||(w[2]=S=>b.value=S),preset:"card",title:u.value,size:"huge",style:{"max-width":"450px","border-radius":"10px"},"on-after-leave":k},{footer:r(()=>[t("div",uo,[n(L,{type:"tertiary",onClick:k},{default:r(()=>[P(" 取消 ")]),_:1}),n(L,{type:"primary",class:"mt-l15",loading:i.value,onClick:z},{default:r(()=>[P(" 确定 ")]),_:1},8,["loading"])])]),default:r(()=>[n(v(pe),{ref_key:"formRef",ref:a,model:d,rules:_},{default:r(()=>[n(v(K),{label:"标题",path:"title"},{default:r(()=>[n(v(ee),{placeholder:"必填",type:"text",value:d.title,"onUpdate:value":w[0]||(w[0]=S=>d.title=S)},null,8,["value"])]),_:1}),n(v(K),{label:"内容",path:"content"},{default:r(()=>[n(v(ee),{placeholder:"必填",type:"textarea",value:d.content,"onUpdate:value":w[1]||(w[1]=S=>d.content=S),autosize:{minRows:5,maxRows:10}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","title"])}}};const mo=e=>(ae("data-v-1fa3dd27"),e=e(),re(),e),vo={class:"section el-container is-vertical height100"},po={class:"el-header header bdr-b"},_o={key:0,class:"el-main main flex-center"},fo=mo(()=>t("img",{src:ve,alt:""},null,-1)),go={key:1,class:"el-main main me-scrollbar me-scrollbar-thumb"},bo=["onClick"],wo={class:"content pointer o-hidden"},yo={class:"item-title"},ko={class:"nickname text-ellipsis"},$o={class:"date"},xo={class:"item-text text-ellipsis"},Co={class:"el-footer footer bdr-t"},So={class:"tips"},zo={__name:"NoticeTab",props:{id:{type:Number,default:0}},setup(e){const l=e,s=B(""),m=B(!1),u=B([]),a=se({isShow:!1,id:0,gid:0,title:"",content:""}),d=U(()=>u.value.filter(w=>w.is_delete)),_=U(()=>s.value.length?u.value.filter(w=>w.title.match(s.value)!=null):u.value),b=()=>{Nt({group_id:l.id}).then(w=>{w.code==200&&(u.value=w.data.items||[])})},i=()=>{d.value.length&&d.value.map(w=>w.user_id).join(",")},k=w=>{m.value==!0?console.log(w):(a.id=w.id,a.gid=l.id,a.title=w.title,a.content=w.content,a.isShow=!0)},p=()=>{a.id=0,a.gid=l.id,a.title="",a.content="",a.isShow=!0},z=()=>{u.value.forEach(w=>{w.is_delete=!1}),m.value=!1},M=()=>{a.isShow=!1,b()};return b(),(w,L)=>{const S=D("n-icon"),H=D("n-input"),C=D("n-button");return y(),N(Y,null,[t("section",vo,[t("header",po,[t("p",null,"公告管理("+R(_.value.length)+")",1),t("div",null,[n(v(ie),null,{default:r(()=>[n(H,{placeholder:"搜索",value:s.value,"onUpdate:value":L[0]||(L[0]=$=>s.value=$),valueModifiers:{trim:!0},clearable:"",style:{width:"200px"},round:""},{prefix:r(()=>[n(S,{component:v(ce)},null,8,["component"])]),_:1},8,["value"]),n(C,{circle:"",onClick:p},{icon:r(()=>[n(S,{component:v(ye)},null,8,["component"])]),_:1})]),_:1})])]),_.value.length===0?(y(),N("main",_o,[n(v(De),{size:"200",description:"暂无相关数据"},{icon:r(()=>[fo]),_:1})])):(y(),N("main",go,[(y(!0),N(Y,null,oe(_.value,$=>(y(),N("div",{class:"member-item bdr-b",key:$.id,onClick:f=>k($)},[t("div",wo,[t("div",yo,[t("p",ko,[t("span",null,R($.title),1)]),t("p",null,[t("span",$o,R($.updated_at),1)])]),t("div",xo,R($.content),1)])],8,bo))),128))])),V(t("footer",Co,[t("div",So,"已选("+R(d.value.length)+")",1),t("div",null,[n(v(ie),null,{default:r(()=>[n(C,{type:"primary",ghost:"",size:"small",onClick:z},{default:r(()=>[P(" 取消 ")]),_:1}),n(C,{type:"error",size:"small",onClick:i},{default:r(()=>[P(" 删除 ")]),_:1})]),_:1})])],512),[[q,m.value]])]),a.isShow?(y(),X(ho,{key:0,id:a.id,gid:a.gid,title:a.title,content:a.content,onSuccess:M,onClose:L[1]||(L[1]=$=>a.isShow=!1)},null,8,["id","gid","title","content"])):Q("",!0)],64)}}},To=te(zo,[["__scopeId","data-v-1fa3dd27"]]);const Bo=e=>(ae("data-v-a81386ff"),e=e(),re(),e),Io={class:"section el-container is-vertical height100"},No={class:"el-header header bdr-b"},Mo={key:0,class:"el-main main flex-center"},Ro=Bo(()=>t("img",{src:ve,alt:""},null,-1)),Do={key:1,class:"el-main main me-scrollbar me-scrollbar-thumb"},Eo=["onClick"],Po={class:"content pointer o-hidden"},Uo={class:"item-title"},Lo={class:"nickname text-ellipsis"},Ao={class:"date mt-l15"},Fo={class:"item-text text-ellipsis"},Ho={class:"tool flex-center"},Oo={__name:"ApplyTab",props:{id:{type:Number,default:0}},setup(e){const l=e,s=B(""),m=B(!1),u=B([]),a=U(()=>s.value.length?u.value.filter(k=>k.nickname.match(s.value)!=null):u.value),d=()=>{Mt({group_id:l.id}).then(k=>{if(k.code==200){let p=k.data.items||[];u.value=p}})},_=k=>{m.value==!0&&console.log(k)},b=Rt(k=>{let p=window.$message.loading("请稍等，正在处理");Dt({apply_id:k.id}).then(z=>{p.destroy(),z.code==200?window.$message.success("已同意"):window.$message.info(z.message),d()})},1e3),i=k=>{let p="",z=window.$dialog.create({title:"拒绝入群申请",content:()=>F(ee,{defaultValue:"",placeholder:"请填写拒绝原因",style:{marginTop:"20px"},onInput:M=>p=M,autofocus:!0}),negativeText:"取消",positiveText:"提交",onPositiveClick:()=>(p.length&&(z.loading=!0,Et({apply_id:k.id,remark:p}).then(M=>{z.destroy(),M.code==200?window.$message.success("已拒绝"):window.$message.info(M.message),d()})),!1)})};return d(),(k,p)=>{const z=D("n-icon"),M=D("n-button"),w=D("n-empty"),L=D("im-avatar");return y(),N("section",Io,[t("header",No,[t("p",null,"申请管理("+R(a.value.length)+")",1),t("div",null,[n(v(ie),null,{default:r(()=>[n(v(ee),{placeholder:"搜索",value:s.value,"onUpdate:value":p[0]||(p[0]=S=>s.value=S),valueModifiers:{trim:!0},clearable:"",style:{width:"200px"},round:""},{prefix:r(()=>[n(z,{component:v(ce)},null,8,["component"])]),_:1},8,["value"]),n(M,{circle:"",onClick:d},{icon:r(()=>[n(z,{component:v(Xt)},null,8,["component"])]),_:1})]),_:1})])]),a.value.length===0?(y(),N("main",Mo,[n(w,{size:"200",description:"暂无相关数据"},{icon:r(()=>[Ro]),_:1})])):(y(),N("main",Do,[(y(!0),N(Y,null,oe(a.value,S=>(y(),N("div",{class:"member-item",key:S.id,onClick:H=>_(S)},[t("div",{class:"avatar pointer",onClick:p[1]||(p[1]=H=>k.onUserInfo(k.member))},[n(L,{size:40,src:S.avatar,username:S.nickname},null,8,["src","username"])]),t("div",Po,[t("div",Uo,[t("p",Lo,[t("span",null,R(S.nickname),1),t("span",Ao,R(S.created_at),1)])]),t("div",Fo,"备注: "+R(S.remark),1)]),t("div",Ho,[n(v(ie),null,{default:r(()=>[n(M,{onClick:H=>v(b)(S),strong:"",secondary:"",circle:"",type:"primary",size:"small"},{icon:r(()=>[n(z,{component:v(Yt)},null,8,["component"])]),_:2},1032,["onClick"]),n(M,{onClick:H=>i(S),strong:"",secondary:"",circle:"",type:"tertiary",size:"small"},{icon:r(()=>[n(z,{component:v(Ue)},null,8,["component"])]),_:2},1032,["onClick"])]),_:2},1024)])],8,Eo))),128))]))])}}},jo=te(Oo,[["__scopeId","data-v-a81386ff"]]);const Go=e=>(ae("data-v-ba788dae"),e=e(),re(),e),Wo={class:"section el-container is-vertical height100"},Vo=Go(()=>t("header",{class:"el-header header bdr-b"},[t("p",null,"设置管理")],-1)),Xo={class:"el-main main"},Yo={__name:"ConfigTab",props:{id:{type:Number,default:0}},emits:["close"],setup(e,{emit:l}){const s=l,m=e,u=se({is_mute:!1,mute_loading:!1,is_overt:!1,overt_loading:!1}),a=()=>{we({group_id:m.id}).then(i=>{i.code==200&&(u.is_mute=i.data.is_mute==1,u.is_overt=i.data.is_overt==1)})},d=()=>{Pt({group_id:m.id}).then(i=>{i.code==200?(window.$message.success("群聊已解散"),s("close")):window.$message.info(i.message)})},_=i=>{u.mute_loading=!0,Ut({group_id:m.id,mode:u.is_mute?2:1}).then(({code:k,message:p})=>{k==200?u.is_mute=i:window.$message.info(p)}).finally(()=>{u.mute_loading=!1})},b=i=>{u.overt_loading=!0,Lt({group_id:m.id,mode:u.is_overt?2:1}).then(({code:k,message:p})=>{k==200?u.is_overt=i:window.$message.info(p)}).finally(()=>{u.overt_loading=!1})};return a(),(i,k)=>{const p=D("n-button");return y(),N("section",Wo,[Vo,t("main",Xo,[n(v(pe),{"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:r(()=>[n(v(K),{label:"解散群聊:"},{default:r(()=>[n(v(Pe),{"negative-text":"取消","positive-text":"确定",onPositiveClick:d},{trigger:r(()=>[n(p,{type:"primary",size:"small",text:""},{default:r(()=>[P(" 点击解散 ")]),_:1})]),default:r(()=>[P(" 确定要解散群聊吗？ 此操作是不可逆的！ ")]),_:1})]),_:1}),n(v(K),{label:"公开可见:",feedback:"开启后可在公开群聊列表展示。"},{default:r(()=>[n(v(ze),{"rubber-band":!1,value:u.is_overt,loading:u.overt_loading,"onUpdate:value":b},null,8,["value","loading"])]),_:1}),n(v(K),{label:"全员禁言:",feedback:"开启后除群主和管理员以外，其它成员禁止发言。"},{default:r(()=>[n(v(ze),{"rubber-band":!1,value:u.is_mute,loading:u.mute_loading,"onUpdate:value":_},null,8,["value","loading"])]),_:1})]),_:1})])])}}},qo=te(Yo,[["__scopeId","data-v-ba788dae"]]);const Ko={class:"el-container container-box"},Zo={class:"el-aside bdr-r",style:{width:"100px"}},Jo=["textContent","onClick"],Qo={class:"el-main"},es={__name:"index",props:{gid:{type:Number,default:0}},emits:["close"],setup(e,{emit:l}){const s=l,m=B(!0),u=B(0),a=[{name:"群信息",component:Gn},{name:"群成员",component:co},{name:"群公告",component:To},{name:"群申请",component:jo},{name:"群设置",component:qo}],d=()=>{s("close")};return(_,b)=>(y(),X(v(be),{show:m.value,"onUpdate:show":b[0]||(b[0]=i=>m.value=i),preset:"card",title:"群管理",class:"modal-radius",style:{"max-width":"800px"},"on-after-leave":d,segmented:{content:!0},"content-style":{padding:0}},{default:r(()=>[t("section",Ko,[t("aside",Zo,[(y(),N(Y,null,oe(a,(i,k)=>t("div",{key:i.name,class:At(["menu-list pointer",{selectd:u.value==k}]),textContent:R(i.name),onClick:p=>u.value=k},null,10,Jo)),64))]),t("main",Qo,[(y(),X(Ft(a[u.value].component),{id:e.gid,onClose:d},null,40,["id"]))])])]),_:1},8,["show"]))}},ts=te(es,[["__scopeId","data-v-d5d3145e"]]),Z=e=>(ae("data-v-a4b4d173"),e=e(),re(),e),ns={class:"el-container is-vertical section"},os={class:"el-header header bdr-b"},ss=Z(()=>t("div",{class:"center-text"},[t("span",null,"群信息")],-1)),is={class:"right-icon"},as={class:"el-main main me-scrollbar me-scrollbar-thumb"},rs={class:"info-box"},ls={class:"b-box"},ds=Z(()=>t("div",{class:"block"},[t("div",{class:"title"},"群名称：")],-1)),cs={class:"describe"},us={class:"b-box"},hs={class:"block"},ms=Z(()=>t("div",{class:"title"},"群名片：",-1)),vs={class:"text"},ps={style:{display:"flex"}},_s={class:"describe"},fs={class:"b-box"},gs={class:"block"},bs=Z(()=>t("div",{class:"title"},"群成员：",-1)),ws={class:"text"},ys=Z(()=>t("div",{class:"describe"},"群主已开启“新成员入群可查看所有聊天记录",-1)),ks={class:"b-box"},$s=Z(()=>t("div",{class:"block"},[t("div",{class:"title"},"群简介：")],-1)),xs={class:"describe"},Cs={class:"b-box"},Ss={class:"block"},zs=Z(()=>t("div",{class:"title"},"群公告：",-1)),Ts={class:"text"},Bs=Z(()=>t("div",{class:"describe"},"暂无群公告",-1)),Is={class:"member-box"},Ns={class:"flex"},Ms={class:"table"},Rs=Z(()=>t("div",{class:"theader"},[t("div",{class:"avatar"}),t("div",{class:"nickname"},"用户昵称"),t("div",{class:"card"},"群名片")],-1)),Ds=["onClick"],Es={class:"avatar"},Ps={class:"nickname text-ellipsis"},Us={class:"badge master"},Ls={class:"badge leader"},As={class:"card text-ellipsis grey"},Fs={key:0,class:"mt-t20 pd-t20"},Hs=Z(()=>t("img",{src:ve,alt:""},null,-1)),Os={class:"el-footer footer bdr-t"},js=de({__name:"GroupPanel",props:{gid:{type:Number,default:0}},emits:["close","to-talk"],setup(e,{emit:l}){const s=Me(),m=ge("$user"),u=l,a=e;Ie(a,()=>{L(),S()});const d=B(!1),_=B(!1),b=B(!1),i=se({keywords:"",detail:{avatar:"",name:"",profile:"",visit_card:""},members:[],remark:""}),k=U(()=>i.keywords?i.members.filter(f=>f.nickname.match(i.keywords)!=null||f.remark.match(i.keywords)!=null):i.members),p=U(()=>i.members.some(f=>f.user_id==s.uid&&f.leader>=1)),z=U(()=>i.members.some(f=>f.user_id==s.uid&&f.leader==2)),M=()=>{},w=f=>{m(f.user_id)};function L(){we({group_id:a.gid}).then(f=>{if(f.code==200){let h=f.data;i.detail.avatar=h.avatar,i.detail.name=h.group_name,i.detail.profile=h.profile,i.detail.visit_card=h.visit_card,i.remark=h.visit_card,h.notice&&(i.detail.group_notice=h.notice)}})}function S(){Re({group_id:a.gid}).then(f=>{f.code==200&&(i.members=f.data.items||[])})}const H=()=>{u("close")},C=()=>{jt({group_id:a.gid}).then(f=>{f.code==200?(window.$message.success("已退出群聊"),H()):window.$message.error(f.message)})},$=()=>{Gt({group_id:a.gid,visit_card:i.remark}).then(({code:f,message:h})=>{f==200?(d.value.setShow(!1),i.detail.visit_card=i.remark,window.$message.success("已更新群名片"),S()):window.$message.error(h)})};return L(),S(),(f,h)=>{const T=D("n-icon"),o=D("n-button"),c=D("n-input"),g=D("im-avatar");return y(),N(Y,null,[t("section",ns,[t("header",os,[t("div",{class:"left-icon",onClick:h[0]||(h[0]=x=>u("to-talk"))},[n(T,{size:"21",component:v(vn)},null,8,["component"])]),ss,t("div",is,[n(T,{size:"21",component:v(Ue),onClick:H},null,8,["component"])])]),t("main",as,[t("div",rs,[t("div",ls,[ds,t("div",cs,R(i.detail.name),1)]),t("div",us,[t("div",hs,[ms,t("div",vs,[n(v(Ot),{trigger:"click",placement:"left",ref_key:"editCardPopover",ref:d},{trigger:r(()=>[n(o,{type:"primary",text:""},{default:r(()=>[P(" 设置 ")]),_:1})]),header:r(()=>[P(" 设置我的群名片 ")]),default:r(()=>[t("div",ps,[n(c,{type:"text",placeholder:"设置我的群名片",autofocus:!0,maxlength:"10",value:i.remark,"onUpdate:value":h[1]||(h[1]=x=>i.remark=x),onKeydown:Ht($,["enter"])},null,8,["value","onKeydown"]),n(o,{type:"primary",class:"mt-l5",onClick:$},{default:r(()=>[P(" 确定 ")]),_:1})])]),_:1},512)])]),t("div",_s,R(i.detail.visit_card||"未设置"),1)]),t("div",fs,[t("div",gs,[bs,t("div",ws,R(i.members.length)+"人",1)]),ys]),t("div",ks,[$s,t("div",xs,R(i.detail.profile?i.detail.profile:"暂无群简介"),1)]),t("div",Cs,[t("div",Ss,[zs,t("div",Ts,[n(o,{type:"primary",text:""},{default:r(()=>[P(" 更多 ")]),_:1})])]),Bs])]),t("div",Is,[t("div",Ns,[n(c,{placeholder:"搜索",value:i.keywords,"onUpdate:value":h[2]||(h[2]=x=>i.keywords=x),clearable:!0,round:""},{prefix:r(()=>[n(T,{component:v(ce)},null,8,["component"])]),_:1},8,["value"]),n(o,{onClick:h[3]||(h[3]=x=>_.value=!0),circle:"",class:"mt-l15"},{icon:r(()=>[n(T,{component:v(ye),color:"rgb(165 165 170)"},null,8,["component"])]),_:1})]),t("div",Ms,[Rs,(y(!0),N(Y,null,oe(k.value,x=>(y(),N("div",{class:"row pointer",key:x.id,onClick:A=>w(x)},[t("div",Es,[n(g,{size:20,src:x.avatar,username:x.nickname},null,8,["src","username"])]),t("div",Ps,[t("span",null,R(x.nickname?x.nickname:"-"),1),V(t("span",Us,"群主",512),[[q,x.leader===2]]),V(t("span",Ls,"管理员",512),[[q,x.leader===1]])]),t("div",As,R(x.remark||"-"),1)],8,Ds))),128)),k.value.length==0?(y(),N("div",Fs,[n(v(De),{size:"200",description:"暂无相关数据"},{icon:r(()=>[Hs]),_:1})])):Q("",!0)])])]),t("footer",Os,[z.value?Q("",!0):(y(),X(v(Pe),{key:0,"negative-text":"取消","positive-text":"确定",onPositiveClick:C},{trigger:r(()=>[n(o,{class:"btn",type:"error",ghost:""},{default:r(()=>[P(" 退出群聊 ")]),_:1})]),default:r(()=>[P(" 确定要退出群吗？ 退出后不再接收此群消息！ ")]),_:1})),p.value?(y(),X(o,{key:1,class:"btn",type:"primary","text-color":"#ffffff",onClick:h[4]||(h[4]=x=>b.value=!0)},{default:r(()=>[P(" 群聊管理 ")]),_:1})):Q("",!0)])]),_.value?(y(),X(Le,{key:0,gid:e.gid,onClose:h[5]||(h[5]=x=>_.value=!1),onOnSubmit:M},null,8,["gid"])):Q("",!0),b.value?(y(),X(ts,{key:1,gid:e.gid,onClose:h[6]||(h[6]=x=>b.value=!1)},null,8,["gid"])):Q("",!0)],64)}}});const ni=te(js,[["__scopeId","data-v-a4b4d173"]]);export{ni as G,ti as N,Le as a};
