import{T as R,u as V,B as F}from"./useForm-02840107.js";import{c as B,d as $,e as A}from"./chatbot-9463e6a0.js";import{d as E,b6 as G,r as p,m as h,V as M,b as d,c as O,i as W,g as o,w as t,a as s,A as m,W as j,X as i,b8 as J,F as K,_ as L}from"./index-0666afcb.js";import{P as X}from"./PageTitle-01afe82e.js";import{P as z}from"./PlusOutlined-930eed86.js";import"./vuedraggable.umd-52050170.js";import"./SettingOutlined-134cec07.js";const H=[{title:"用户名称",key:"name",width:100},{title:"备注名称",key:"alias",width:200},{title:"用户ID",key:"wxid",width:200},{title:"机器人ID",key:"id",width:100},{title:"机器人名称",key:"botname",width:100},{title:"用户提示词",key:"prompt",width:200},{title:"配额",key:"quota",width:100},{title:"启动状态",key:"state",width:160},{title:"备注",key:"info",width:160}],Q=E({__name:"white",setup(Y){const _={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},k=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"序号",componentProps:{placeholder:"请输入记录ID",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"好友",value:1},{label:"群",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],y=G(),g=p(null),v=p(),u=p(!1),f=p(!1),n=h({id:"",botname:"",wxid:"",name:"",prompt:"",quota:100,info:""}),C=h({width:220,title:"操作",key:"action",fixed:"right",render(e){return M(R,{style:"button",actions:[{label:"删除",onClick:T.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:N.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:l=>{window.$message.info(`您点击了，${l} 按钮`)}})}}),[Z,{getFieldsValue:I}]=V({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:k});function x(){u.value=!0}const D=async e=>{const{data:l}=await $({...I(),...e});return console.log("data",JSON.stringify(l)),l};function P(e){console.log(e)}function b(){v.value.reload()}function U(e){e.preventDefault(),f.value=!0,g.value.validate(async l=>{if(l)window.$message.error("请填写完整信息");else{const w=await A(n);console.log("新建res",w),window.$message.success("新建成功"),setTimeout(()=>{u.value=!1,b()})}f.value=!1})}function N(e){console.log("点击了编辑",e),y.push({name:"basic-info",params:{id:e.id}})}async function T(e){console.log("点击了删除",e);const l=await B({recordId:e.recordId});console.log("删除res",l),l.code===200?(window.$message.success("删除成功"),b()):window.$message.error("删除失败")}return(e,l)=>{const w=d("n-icon"),c=d("n-button"),r=d("n-input"),S=d("n-space"),q=d("n-modal");return O(),W(K,null,[o(X,{title:"白名单"}),o(s(J),{bordered:!1,class:"proCard"},{default:t(()=>[o(s(F),{columns:s(H),request:D,"row-key":a=>a.id,ref_key:"actionRef",ref:v,actionColumn:C,"onUpdate:checkedRowKeys":P,"scroll-x":1090},{tableTitle:t(()=>[o(c,{type:"primary",onClick:x},{icon:t(()=>[o(w,null,{default:t(()=>[o(s(z))]),_:1})]),default:t(()=>[m(" 新建 ")]),_:1})]),toolbar:t(()=>[o(c,{type:"primary",onClick:b},{default:t(()=>[m("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),o(q,{show:u.value,"onUpdate:show":l[7]||(l[7]=a=>u.value=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:t(()=>[o(S,null,{default:t(()=>[o(c,{onClick:l[6]||(l[6]=()=>u.value=!1)},{default:t(()=>[m("取消")]),_:1}),o(c,{type:"info",loading:f.value,onClick:U},{default:t(()=>[m("确定")]),_:1},8,["loading"])]),_:1})]),default:t(()=>[o(s(j),{model:n,rules:_,ref_key:"formRef",ref:g,"label-placement":"left","label-width":125,class:"py-4"},{default:t(()=>[o(s(i),{label:"机器人名称",path:"botname"},{default:t(()=>[o(r,{placeholder:"请选择机器人名称",value:n.botname,"onUpdate:value":l[0]||(l[0]=a=>n.botname=a)},null,8,["value"])]),_:1}),o(s(i),{label:"机器人ID",path:"botname"},{default:t(()=>[o(r,{placeholder:"请选择机器人ID",value:n.id,"onUpdate:value":l[1]||(l[1]=a=>n.id=a)},null,8,["value"])]),_:1}),o(s(i),{label:"昵称/群名称",path:"name"},{default:t(()=>[o(r,{placeholder:"请输入昵称/群名称",value:n.name,"onUpdate:value":l[2]||(l[2]=a=>n.name=a)},null,8,["value"])]),_:1}),o(s(i),{label:"好友ID/群ID",path:"type"},{default:t(()=>[o(r,{placeholder:"请输入好友ID/群ID",value:n.wxid,"onUpdate:value":l[3]||(l[3]=a=>n.wxid=a)},null,8,["value"])]),_:1}),o(s(i),{label:"配额",path:"quota"},{default:t(()=>[o(r,{placeholder:"请输入配额",value:n.quota,"onUpdate:value":l[4]||(l[4]=a=>n.quota=a)},null,8,["value"])]),_:1}),o(s(i),{label:"备注",path:"info"},{default:t(()=>[o(r,{type:"textarea",placeholder:"请输入备注说明",value:n.info,"onUpdate:value":l[5]||(l[5]=a=>n.info=a)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});const re=L(Q,[["__scopeId","data-v-dd388746"]]);export{re as default};
