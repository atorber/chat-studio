import{T as R,u as V,B as D}from"./useForm-02840107.js";import{S as F,a as B,b as $}from"./qa-bb9180b3.js";import{d as O,b6 as Q,r as c,m as k,V as A,b as d,c as G,i as L,g as t,w as o,a as s,A as m,W as M,X as i,b8 as W,F as j,_ as E}from"./index-0666afcb.js";import{P as J}from"./PageTitle-01afe82e.js";import{P as K}from"./PlusOutlined-930eed86.js";import"./vuedraggable.umd-52050170.js";import"./SettingOutlined-134cec07.js";const X=[{title:"分类",key:"skillname",width:100},{title:"标准问题",key:"title",width:200},{title:"相似问题1",key:"question1",width:200},{title:"相似问题2",key:"question2",width:200},{title:"回答内容",key:"answer",width:160},{title:"状态",key:"state",width:100},{title:"同步状态",key:"syncStatus",width:100},{title:"更新时间",key:"lastOperationTime",width:160,render(g){return new Date(g.lastOperationTime).toLocaleString()}}],z=O({__name:"index",setup(g){const y={skillname:{required:!0,trigger:["blur","input"],message:"请输入问题分类"},title:{required:!0,trigger:["blur","input"],message:"请输入标准答案"},answer:{required:!0,trigger:["blur","input"],message:"请输入机器人回答"}},h=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:l=>{console.log(l)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:l=>{console.log(l)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:l=>{console.log(l)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:l=>{console.log(l)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:l=>{console.log(l)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:l=>{console.log(l)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:l=>{console.log(l)}}}];Q();const w=c(null),_=c(),u=c(!1),f=c(!1),n=k({skillname:"",title:"",question1:"",question2:"",question3:"",answer:""}),q=k({width:80,title:"操作",key:"action",fixed:"right",render(l){return A(R,{style:"button",actions:[{label:"删除",onClick:U.bind(null,l),ifShow:()=>!0,auth:["basic_list"]}],select:e=>{window.$message.info(`您点击了，${e} 按钮`)}})}}),[H,{getFieldsValue:x}]=V({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:h});function C(){u.value=!0}const P=async l=>{const{data:e}=await B({...x(),...l});return console.log("data",JSON.stringify(e)),e};function N(l){console.log(l)}function b(){_.value.reload()}function T(l){l.preventDefault(),f.value=!0,w.value.validate(async e=>{if(e)window.$message.error("请填写完整信息");else{const v=await $(n);console.log("新建res",v),window.$message.success("新建成功"),setTimeout(()=>{u.value=!1,b()})}f.value=!1})}async function U(l){console.log("点击了删除",l);const e=await F({recordId:l.recordId});console.log("删除res",e),e.code===200?(window.$message.success("删除成功"),b()):window.$message.error("删除失败")}return(l,e)=>{const v=d("n-icon"),p=d("n-button"),r=d("n-input"),S=d("n-space"),I=d("n-modal");return G(),L(j,null,[t(J,{title:"自动问答"}),t(s(W),{bordered:!1,class:"proCard"},{default:o(()=>[t(s(D),{columns:s(X),request:P,"row-key":a=>a.id,ref_key:"actionRef",ref:_,actionColumn:q,"onUpdate:checkedRowKeys":N,"scroll-x":1090},{tableTitle:o(()=>[t(p,{type:"primary",onClick:C},{icon:o(()=>[t(v,null,{default:o(()=>[t(s(K))]),_:1})]),default:o(()=>[m(" 新建 ")]),_:1})]),toolbar:o(()=>[t(p,{type:"primary",onClick:b},{default:o(()=>[m("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),t(I,{show:u.value,"onUpdate:show":e[7]||(e[7]=a=>u.value=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:o(()=>[t(S,null,{default:o(()=>[t(p,{onClick:e[6]||(e[6]=()=>u.value=!1)},{default:o(()=>[m("取消")]),_:1}),t(p,{type:"info",loading:f.value,onClick:T},{default:o(()=>[m("确定")]),_:1},8,["loading"])]),_:1})]),default:o(()=>[t(s(M),{model:n,rules:y,ref_key:"formRef",ref:w,"label-placement":"left","label-width":125,class:"py-4"},{default:o(()=>[t(s(i),{label:"分类",path:"skillname"},{default:o(()=>[t(r,{placeholder:"请输入问题分类",value:n.skillname,"onUpdate:value":e[0]||(e[0]=a=>n.skillname=a)},null,8,["value"])]),_:1}),t(s(i),{label:"标准问题",path:"title"},{default:o(()=>[t(r,{type:"textarea",placeholder:"请输入标准问题",value:n.title,"onUpdate:value":e[1]||(e[1]=a=>n.title=a)},null,8,["value"])]),_:1}),t(s(i),{label:"相似问题1",path:"question1"},{default:o(()=>[t(r,{type:"textarea",placeholder:"请输入相似问题1",value:n.question1,"onUpdate:value":e[2]||(e[2]=a=>n.question1=a)},null,8,["value"])]),_:1}),t(s(i),{label:"相似问题2",path:"question2"},{default:o(()=>[t(r,{type:"textarea",placeholder:"请输入相似问题2",value:n.question2,"onUpdate:value":e[3]||(e[3]=a=>n.question2=a)},null,8,["value"])]),_:1}),t(s(i),{label:"相似问题3",path:"question3"},{default:o(()=>[t(r,{type:"textarea",placeholder:"请输入相似问题3",value:n.question3,"onUpdate:value":e[4]||(e[4]=a=>n.question3=a)},null,8,["value"])]),_:1}),t(s(i),{label:"机器人回答",path:"answer"},{default:o(()=>[t(r,{type:"textarea",placeholder:"请输入机器人回答",value:n.answer,"onUpdate:value":e[5]||(e[5]=a=>n.answer=a)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});const ne=E(z,[["__scopeId","data-v-099f9606"]]);export{ne as default};
