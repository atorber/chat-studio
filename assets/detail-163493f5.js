import{_ as f,aA as h,b6 as v,r as d,m as b,b9 as y,b as w,c as x,i as k,f as i,g as t,w as n,a as o,F as S,X as m,Y as N,Z as I,$ as u,A as c,a0 as U,W as C,K as F,L as R,ba as $}from"./index-0666afcb.js";import"./AvatarCropper.vue_vue_type_style_index_0_scoped_9728916b_lang-08fe2d60.js";const B=s=>(F("data-v-3604de21"),s=s(),R(),s),D=B(()=>i("h3",{class:"title"},"配置信息",-1)),V={class:"view-box"},A={class:"container el-container"},G={class:"el-main",style:{"padding-right":"20px"}},q={__name:"detail",setup(s){const _=h();v(),d(!1);const e=b({avatar:"",nickname:"",mobile:"",email:"",gender:"0",motto:"0",birthday:d(),loading:!1});y().then(({data:a})=>{e.mobile=a.mobile.toString(),e.email=a.email.toString(),e.motto=a.motto.toString(),e.avatar=a.avatar,a.birthday&&(e.birthday=d(a.birthday))});const p=()=>{if(!e.nickname.trim())return window.$message.warning("昵称不能为空");e.loading=!0;const a=$({nickname:e.nickname.trim(),avatar:e.avatar,motto:e.motto,gender:parseInt(e.gender),birthday:e.birthday});a.then(()=>{window.$message.success("信息保存成功"),_.loadSetting()}),a.catch(()=>{window.$message.warning("信息保存失败")}),a.finally(()=>{e.loading=!1})};return(a,l)=>{const g=w("n-button");return x(),k(S,null,[D,i("div",V,[i("section",A,[i("main",G,[t(o(C),{ref:"formRef","label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:"medium",style:{"max-width":"500px","margin-top":"25px"}},{default:n(()=>[t(o(m),{label:"云托管："},{default:n(()=>[t(o(N),{value:e.gender,"onUpdate:value":l[0]||(l[0]=r=>e.gender=r),name:"gender"},{default:n(()=>[t(o(I),null,{default:n(()=>[t(o(u),{key:"1",value:"1"},{default:n(()=>[c(" 开启 ")]),_:1}),t(o(u),{key:"0",value:"0"},{default:n(()=>[c(" 关闭 ")]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),t(o(m),{label:"密钥："},{default:n(()=>[t(o(U),{placeholder:"请输入群管理秘书密钥",value:e.nickname,"onUpdate:value":l[1]||(l[1]=r=>e.nickname=r),maxlength:"20","show-count":""},null,8,["value"])]),_:1}),t(o(m),null,{default:n(()=>[t(g,{type:"primary",onClick:p,loading:e.loading,style:{"margin-left":"94px"}},{default:n(()=>[c(" 保存修改 ")]),_:1},8,["loading"])]),_:1})]),_:1},512)])])])],64)}}},K=f(q,[["__scopeId","data-v-3604de21"]]);export{K as default};
