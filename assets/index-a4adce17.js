import{T as D,u as F,B as q}from"./useForm-e7b41020.js";import{S as B,a as $,b as A}from"./chatbot-ef3c2d1f.js";import{c as E}from"./columns-e43a7030.js";import{d as G,b6 as M,r as c,m as y,V as O,b as i,c as W,i as j,g as o,w as a,a as s,A as m,W as J,X as u,b8 as K,F as L,_ as X}from"./index-3ccc3e49.js";import{P as z}from"./PageTitle-90e8d49b.js";import{P as H}from"./PlusOutlined-b8e286ef.js";import"./vuedraggable.umd-c2b1d0bb.js";import"./SettingOutlined-d3d22485.js";const Q=G({__name:"index",setup(Y){const h={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},w=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],k=M(),g=c(null),_=c(),d=c(!1),f=c(!1),n=y({name:"",desc:"",type:"",model:"",prompt:"",quota:100,endpoint:"",key:""}),C=y({width:220,title:"操作",key:"action",fixed:"right",render(e){return O(D,{style:"button",actions:[{label:"删除",onClick:I.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:T.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:l=>{window.$message.info(`您点击了，${l} 按钮`)}})}}),[Z,{getFieldsValue:x}]=F({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:w});function P(){d.value=!0}const N=async e=>{const{data:l}=await $({...x(),...e});return console.log("data",JSON.stringify(l)),l};function U(e){console.log(e)}function b(){_.value.reload()}function S(e){e.preventDefault(),f.value=!0,g.value.validate(async l=>{if(l)window.$message.error("请填写完整信息");else{const v=await A(n);console.debug("res",v),window.$message.success("新建成功"),setTimeout(()=>{d.value=!1,b()})}f.value=!1})}function T(e){console.log("点击了编辑",e),k.push({name:"basic-info",params:{id:e.id}})}async function I(e){console.log("点击了删除",e);const l=await B({recordId:e.recordId});console.log("删除res",l),l.code===200?(window.$message.success("删除成功"),b()):window.$message.error("删除失败")}return(e,l)=>{const v=i("n-icon"),p=i("n-button"),r=i("n-input"),R=i("n-space"),V=i("n-modal");return W(),j(L,null,[o(z,{title:"聊天机器人"}),o(s(K),{bordered:!1,class:"proCard"},{default:a(()=>[o(s(q),{columns:s(E),request:N,"row-key":t=>t.id,ref_key:"actionRef",ref:_,actionColumn:C,"onUpdate:checkedRowKeys":U,"scroll-x":1090},{tableTitle:a(()=>[o(p,{type:"primary",onClick:P},{icon:a(()=>[o(v,null,{default:a(()=>[o(s(H))]),_:1})]),default:a(()=>[m(" 新建 ")]),_:1})]),toolbar:a(()=>[o(p,{type:"primary",onClick:b},{default:a(()=>[m("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),o(V,{show:d.value,"onUpdate:show":l[8]||(l[8]=t=>d.value=t),"show-icon":!1,preset:"dialog",title:"新建"},{action:a(()=>[o(R,null,{default:a(()=>[o(p,{onClick:l[7]||(l[7]=()=>d.value=!1)},{default:a(()=>[m("取消")]),_:1}),o(p,{type:"info",loading:f.value,onClick:S},{default:a(()=>[m("确定")]),_:1},8,["loading"])]),_:1})]),default:a(()=>[o(s(J),{model:n,rules:h,ref_key:"formRef",ref:g,"label-placement":"left","label-width":125,class:"py-4"},{default:a(()=>[o(s(u),{label:"昵称",path:"name"},{default:a(()=>[o(r,{placeholder:"请输入机器人的昵称",value:n.name,"onUpdate:value":l[0]||(l[0]=t=>n.name=t)},null,8,["value"])]),_:1}),o(s(u),{label:"类型",path:"type"},{default:a(()=>[o(r,{placeholder:"请输入类型",value:n.type,"onUpdate:value":l[1]||(l[1]=t=>n.type=t)},null,8,["value"])]),_:1}),o(s(u),{label:"模型",path:"model"},{default:a(()=>[o(r,{placeholder:"请输入模型",value:n.model,"onUpdate:value":l[2]||(l[2]=t=>n.model=t)},null,8,["value"])]),_:1}),o(s(u),{label:"接入点",path:"endpoint"},{default:a(()=>[o(r,{placeholder:"请输入接入点",value:n.endpoint,"onUpdate:value":l[3]||(l[3]=t=>n.endpoint=t)},null,8,["value"])]),_:1}),o(s(u),{label:"密钥",path:"key"},{default:a(()=>[o(r,{placeholder:"请输入密钥",value:n.key,"onUpdate:value":l[4]||(l[4]=t=>n.key=t)},null,8,["value"])]),_:1}),o(s(u),{label:"系统提示词",path:"prompt"},{default:a(()=>[o(r,{type:"textarea",placeholder:"请输入系统提示词",value:n.prompt,"onUpdate:value":l[5]||(l[5]=t=>n.prompt=t)},null,8,["value"])]),_:1}),o(s(u),{label:"描述",path:"desc"},{default:a(()=>[o(r,{type:"textarea",placeholder:"请输入描述",value:n.desc,"onUpdate:value":l[6]||(l[6]=t=>n.desc=t)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});const ue=X(Q,[["__scopeId","data-v-c11e1574"]]);export{ue as default};
